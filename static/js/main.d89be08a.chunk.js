(this.webpackJsonpNameThatSummation=this.webpackJsonpNameThatSummation||[]).push([[0],{304:function(e,t,n){},600:function(e,t,n){},601:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(60),r=n.n(s),i=(n(304),n(44)),l=n(14),j=n(138);n(602);j.a.initializeApp({apiKey:"AIzaSyB-xHDeSe4hqhBhG5QEOy6NMdF61QA6orI",authDomain:"comp585-version1.firebaseapp.com",projectId:"comp585-version1",storageBucket:"comp585-version1.appspot.com",messagingSenderId:"86593862085",appId:"1:86593862085:web:c1f4f3f0a331797292b3ac",measurementId:"G-1PWT66W06C"});j.a.auth;var o=j.a.firestore(),d=n(184),b=n(20),h=n(121),x=n(12),O=n(43),u=n.n(O),m=n(52),p=n(38),g=n(1),f=function(){return Object(g.jsxs)(m.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(g.jsx)(m.a.Brand,{children:"Name That Summation"}),Object(g.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(g.jsx)(p.a,{className:"mr-auto"}),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(p.a.Item,{className:"mr-2",children:Object(g.jsx)(u.a,{to:"/game-page",children:Object(g.jsxs)(x.a,{children:["Go to ",Object(g.jsx)("strong",{children:"Game"})]})})}),Object(g.jsxs)(p.a.Link,{href:"https://github.com/BlaziusMaximus/NameThatSummation",children:["Go to ",Object(g.jsx)("strong",{children:"GitHub"})]})]})]})]})},y=n(80),v=n(27),S=n(279),I=function(){return Object(g.jsxs)(y.a,{children:[Object(g.jsx)(v.a,{children:Object(g.jsx)("h3",{children:"Team/Client Information"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Adam Cogdell (adamc77@live.unc.edu): Game Architect, Client Manager"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Emre Yanmis (emre61@live.unc.edu): Software Architect"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Tiger Deng (y.deng@unc.edu): Project Manager, Editor"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"John Majikes (jmajikes@cs.unc.edu): Client"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("h3",{id:"meeting-information",children:"Meeting Information"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Client Meetings: Tuesday @ 2:30PM"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Professor Meetings (recitation): Thursday 3:30-4:30PM"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Team Meetings: Monday @ 6:00PM"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("div",{style:{width:"8.5in",height:"auto"},children:Object(g.jsx)(S.a,{aspectRatio:"1by1",children:Object(g.jsx)("iframe",{title:"Design Doc",src:"https://docs.google.com/document/d/e/2PACX-1vR3nIMv9RltRskz5HY8NZmztMdaF0d1Mfb3Hda5n9-c8VyV_3afAFM-4RU_UVSMI2WajPdJPZLxVgmS/pub?embedded=true"})})})})]})},N=n(280),C=function(e){var t=e.playersList,n=e.startGame,c=e.quitGame,a=e.kickPlayer;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:c,id:"startgame",variant:"danger",size:"lg",block:!0,children:"Quit Game"}),Object(g.jsx)(x.a,{onClick:n,id:"startgame",variant:"success",size:"lg",block:!0,children:"Start Game"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{width:"10%"}}),Object(g.jsx)("th",{children:"Player"}),Object(g.jsx)("th",{children:"Section"})]})}),Object(g.jsx)("tbody",{children:t.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(x.a,{onClick:function(){return a(e)},children:"Kick"})}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.section})]},e.name+""+e.section)}))})]})]})},k=n(604),F=n(39),w=n(41),A=n(605),E=n(606),G=n(140),T=n(98),P=n(297),D=function(e){var t=e.data;return Object(g.jsx)(P.a,{data:t,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"x-axis",legendOffset:36,legendPosition:"center"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"y-axis",legendOffset:-40,legendPosition:"center"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},q=n(33),L=function(e){var t=e.quitGame,n=e.prevQuestion,s=e.nextQuestion,r=e.questions,i=e.localGameState,j=e.playersList,o=e.playerAnswers,d=Object(c.useState)("players"),b=Object(l.a)(d,2),h=b[0],O=b[1],u=Object(c.useState)([0,0,0,0]),m=Object(l.a)(u,2),p=m[0],f=m[1];return a.a.useEffect((function(){var e=[0,0,0,0];j.forEach((function(t){void 0!==o[t.id]&&(e[o[t.id]]+=1,console.log(t.id,o[t.id]))})),console.log(e),f(e)}),[o,j]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:t,id:"startgame",variant:"danger",size:"lg",block:!0,children:"Quit Game"}),Object(g.jsxs)(k.a,{className:"d-flex",children:[Object(g.jsx)(x.a,{className:"btn-block mr-1 mt-1 btn-lg",onClick:n,id:"prev",variant:"secondary",size:"lg",block:!0,disabled:0===i.questionIndex,children:"Previous Question"}),Object(g.jsx)(x.a,{className:"btn-block mr-1 mt-1 btn-lg",onClick:s,id:"next",variant:"primary",size:"lg",block:!0,children:"Next Question"})]}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(F.a,{sm:5,children:Object(g.jsxs)(w.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsx)(w.a.Body,{children:Object(g.jsx)(D,{data:[r[i.questionIndex]]})}),Object(g.jsx)(w.a.Footer,{children:r[i.questionIndex].renderChoices.map((function(e,t){return Object(g.jsx)(x.a,{id:t,disabled:!0,style:{margin:"0 2%"},variant:r[i.questionIndex].answerIndex===t?"success":"primary",children:Object(g.jsx)(q.a,{tex:"y = ".concat(e),display:!1})},t)}))}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:r[i.questionIndex].renderChoices.map((function(e,t){return Object(g.jsx)(A.a,{label:"".concat(p[t]/j.length*100,"%"),variant:r[i.questionIndex].answerIndex===t?"success":"primary",now:p[t]/j.length*100})}))})]})}),Object(g.jsx)(F.a,{style:{padding:"0"},children:Object(g.jsxs)(E.a,{id:"tabs",activeKey:h,onSelect:function(e){return O(e)},children:[Object(g.jsx)(G.a,{eventKey:"players",title:"Players",children:Object(g.jsx)(y.a,{style:{height:"80vh",overflowY:"scroll"},children:Object(g.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Player"}),Object(g.jsx)("th",{children:"Section"}),Object(g.jsx)("th",{children:"Score"})]})}),Object(g.jsx)("tbody",{children:j.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.section}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.city)}))})]})})}),Object(g.jsx)(G.a,{eventKey:"questions",title:"Questions",children:Object(g.jsx)(y.a,{children:Object(g.jsx)(G.a.Container,{defaultActiveKey:"".concat(i.questionIndex),children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(F.a,{sm:4,children:Object(g.jsx)(T.a,{style:{height:"80vh",overflowY:"scroll"},children:r.map((function(e,t){return Object(g.jsx)(T.a.Item,{href:"".concat(t),style:{cursor:"pointer",paddingLeft:"0",paddingRight:"0"},variant:t===i.questionIndex?"primary":t<i.questionIndex?"secondary":"",children:Object(g.jsx)(y.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(F.a,{children:e.id})})})},"".concat(t))}))})}),Object(g.jsx)(F.a,{sm:8,style:{paddingLeft:"0"},children:Object(g.jsx)(G.a.Content,{children:r.map((function(e,t){return Object(g.jsx)(G.a.Pane,{eventKey:"".concat(t),children:Object(g.jsxs)(w.a,{style:{height:"60vh"},className:"text-center",children:[Object(g.jsx)(w.a.Body,{children:Object(g.jsx)(D,{data:[e]})}),Object(g.jsx)(w.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(g.jsx)(x.a,{id:n,disabled:!0,style:{margin:"0 2%"},variant:e.answerIndex===n?"success":"primary",children:Object(g.jsx)(q.a,{tex:"y = ".concat(t),display:!1})},n)}))})]})},"".concat(t))}))})})]})})})})]})})]})})]})},M=function(e){var t=e.chartsData,n=e.playersList,c=e.endGame,a=n.sort((function(e,t){return e.name>t.name?1:-1}));console.log(a);var s=a.length>=5?a.slice(0,5):a;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:c,id:"cleargame",variant:"secondary",size:"lg",block:!0,children:"End Game"}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(F.a,{xs:8,children:Object(g.jsx)(G.a.Container,{id:"list-group-tabs-example",defaultActiveKey:t[0].id,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(F.a,{sm:4,children:Object(g.jsx)(T.a,{children:t.map((function(e,t){return Object(g.jsxs)(T.a.Item,{href:e.id,children:["Question ",t,": ",e.id]},e.id)}))})}),Object(g.jsx)(F.a,{sm:8,children:Object(g.jsx)(G.a.Content,{children:t.map((function(e,t){return Object(g.jsx)(G.a.Pane,{eventKey:e.id,children:Object(g.jsxs)(w.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsx)(w.a.Body,{children:Object(g.jsx)(D,{data:[e]})}),Object(g.jsx)(w.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(g.jsx)(x.a,{disabled:!0,id:t,variant:e.answerIndex===n?"success":"primary",style:{margin:"0 2%"},children:Object(g.jsx)(q.a,{tex:"y = ".concat(t),style:{pointerEvents:"none;"}})},t)}))})]})},e.id)}))})})]})})}),Object(g.jsxs)(F.a,{children:[Object(g.jsx)("h1",{children:"LEADERBOARD"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Top Players"}),Object(g.jsx)("th",{children:"Scores"})]})}),Object(g.jsx)("tbody",{children:s.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.score)}))})]})]})]})})]})},B=n(53),R=function(e){var t=e.initializeGame,n=e.clearGame,s=e.playersList,r=e.uploadQuestions,i=e.noQuestions,j=Object(c.useState)(null),o=Object(l.a)(j,2),d=o[0],b=o[1];return a.a.useEffect((function(){if(null!=d){var e=new FileReader;e.readAsText(d),e.onload=function(){var t=JSON.parse(e.result);console.log(t),r(t)}}}),[d,r]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:t,id:"startgame",variant:"danger",size:"lg",block:!0,disabled:i,children:"Initialize Game"}),Object(g.jsx)(x.a,{onClick:n,id:"cleargame",variant:"secondary",size:"lg",block:!0,children:"Clear Game"}),Object(g.jsx)("br",{}),0===s.length?Object(g.jsx)(y.a,{children:Object(g.jsx)(v.a,{className:"justify-content-md-center",children:Object(g.jsx)(F.a,{sm:"auto",children:Object(g.jsx)("h1",{children:"No Players in Database"})})})}):Object(g.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Player"}),Object(g.jsx)("th",{children:"Section"})]})}),Object(g.jsx)("tbody",{children:s.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.section})]},e.name+""+e.section)}))})]}),Object(g.jsx)(B.a,{children:Object(g.jsx)(B.a.Group,{children:Object(g.jsx)(B.a.File,{type:"file",id:"fileUpload",label:"Upload Questions JSON Here",onChange:function(e){return b(e.target.files[0])}})})})]})},Q=n(18),z=function(e){e.forEach((function(e){o.collection("playersDB").doc(e.name).delete(),console.log("player '".concat(e.name,"' deleted"))}))},W=function(e){o.collection("playersDB").doc(e.name).delete(),console.log("player '".concat(e.name,"' deleted"))},H=function(e){o.collection("adminVars").doc("GameState").set(e),console.log("gameState set",e)},V=function(e){for(var t=0;t<e.length;t++)o.collection("questions").doc("q"+t).set(Object(Q.a)({},e[t]))},Y=function(e){e.forEach((function(e){o.collection("questions").doc(e.id).delete(),console.log("question '".concat(e.id,"' deleted"))}))},K=function(){o.collection("adminVars").doc("PlayerAnswers").set({})},U=function(e){var t=e.pageStates,n=e.pageState,c=e.playersList,a=e.localGameState,s=e.setLocalGameState,r=e.questions,i=e.playerAnswers,l=function(){var e={pageState:t.OFFLINE,questionIndex:null};s(e),H(e),z(c),Y(r)};return Object(g.jsxs)(g.Fragment,{children:[n===t.OFFLINE?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(R,{initializeGame:function(){var e={pageState:t.WAITING,questionIndex:null};s(e),H(e)},clearGame:l,playersList:c,uploadQuestions:V,noQuestions:0===r.length})}):Object(g.jsx)(g.Fragment,{}),n===t.WAITING?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(C,{playersList:c,startGame:function(){var e={pageState:t.PLAYING,questionIndex:0};s(e),H(e),console.log(e)},quitGame:l,kickPlayer:W})}):Object(g.jsx)(g.Fragment,{}),n===t.PLAYING?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(L,{quitGame:l,prevQuestion:function(){var e=a.questionIndex-1;if(e>=0){var n={pageState:t.PLAYING,questionIndex:e};s(n),H(n),K()}},nextQuestion:function(){var e=a.questionIndex+1,n={};n=e<r.length?{pageState:t.PLAYING,questionIndex:e}:{pageState:t.REVIEW,questionIndex:null},s(n),H(n),K()},questions:r,localGameState:a,playersList:c,playerAnswers:i})}):Object(g.jsx)(g.Fragment,{}),n===t.REVIEW?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(M,{chartsData:r,playersList:c,endGame:l})}):Object(g.jsx)(g.Fragment,{})]})},J=n(191),_=n.n(J),X=n(295),Z=n(192),$=n(96),ee=n(28),te=function(e){var t=e.onSubmitName,n=e.canSubmitName,a=Object(c.useState)(!1),s=Object(l.a)(a,2),r=s[0],i=s[1],j=function(){return i(!1)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(m.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(g.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(g.jsx)(p.a,{className:"mr-auto"}),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(p.a.Item,{className:"mr-2",children:Object(g.jsx)(u.a,{to:"/team-page",children:Object(g.jsxs)(x.a,{children:["Go to ",Object(g.jsx)("strong",{children:"Team Page"})]})})}),Object(g.jsxs)(p.a.Link,{href:"https://github.com/BlaziusMaximus/NameThatSummation",children:["Go to ",Object(g.jsx)("strong",{children:"GitHub"})]})]})]})]}),Object(g.jsx)(x.a,{variant:"secondary",onClick:function(){return i(!0)},children:"Settings"}),Object(g.jsxs)(ee.a,{show:r,onHide:j,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(ee.a.Header,{closeButton:!0,children:Object(g.jsx)(ee.a.Title,{children:"Settings"})}),Object(g.jsx)(ee.a.Body,{children:Object(g.jsxs)("fieldset",{children:[Object(g.jsxs)(B.a,{children:[Object(g.jsx)(B.a.Check,{type:"checkbox",label:"Settings Option 1"}),Object(g.jsx)(B.a.Check,{type:"checkbox",label:"Settings Option 2"})]}),Object(g.jsxs)(B.a,{children:[Object(g.jsx)(B.a.Check,{type:"radio",label:"Settings Option 3"}),Object(g.jsx)(B.a.Check,{type:"radio",label:"Settings Option 4"})]})]})}),Object(g.jsx)(ee.a.Footer,{children:Object(g.jsx)(x.a,{variant:"secondary",onClick:j,children:"Close"})})]}),Object(g.jsxs)(y.a,{children:[Object(g.jsx)(v.a,{className:"justify-content-md-center",children:Object(g.jsx)(F.a,{sm:"auto",children:Object(g.jsx)("h1",{children:"Name That Summation"})})}),Object(g.jsx)(v.a,{className:"justify-content-md-center",children:Object(g.jsx)(F.a,{sm:8,children:Object(g.jsx)(B.a,{onSubmit:function(e){e.preventDefault(),t(e.target[0].value,e.target[1].value)},children:Object(g.jsx)(B.a.Row,{children:Object(g.jsxs)(Z.a,{children:[Object(g.jsx)(F.a,{style:{padding:"0"},children:Object(g.jsx)($.a,{placeholder:"Display Name","aria-label":"Display Name","aria-describedby":"display-name-form"})}),Object(g.jsx)(F.a,{style:{padding:"0"},children:Object(g.jsx)($.a,{placeholder:"Section","aria-label":"Section","aria-describedby":"section-form"})}),Object(g.jsx)(Z.a.Append,{children:Object(g.jsx)(x.a,{variant:"outline-primary",type:"submit",disabled:!n,children:"Submit"})})]})})})})})]})]})},ne=function(e){var t=e.displayName,n=e.chartData,a=e.questionTime,s=e.timer,r=e.endQuestion,j=e.selectAnswer,o=Object(c.useState)(!1),d=Object(l.a)(o,2),b=d[0],O=d[1],u=function(){O(!1),f===n.answerIndex&&r(F)},m=Object(c.useState)(null),p=Object(l.a)(m,2),f=p[0],y=p[1],v=Object(c.useState)(new Array(n.renderChoices.length).fill(0)),S=Object(l.a)(v,2),I=S[0],N=S[1],C=Object(c.useState)(null),k=Object(l.a)(C,2),F=k[0],A=k[1],E=function(e){e.preventDefault();var t=parseInt(e.currentTarget.id),n=I;n[parseInt(t)]=1,N(n),j(t,s),y(t),A(a-s),O(!0)},G=Object(Q.a)({},n);G.data=G.data.slice(0,1);var T=Object(c.useState)(G),P=Object(l.a)(T,2),L=P[0],M=P[1];Object(c.useEffect)((function(){var e=Object(Q.a)({},n),t=parseFloat(a-s)/parseFloat(a),c=n.data.length,r=Math.floor(t*(c-1))+1;console.log(r),e.data=e.data.slice(0,Math.min(c,r)),M(e)}),[s,a,n,r]);var B=function(e){var t=Object(h.a)(n.evalChoices[f])({x:e});return t===1/0||t===-1/0?null:t};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t]}),Object(g.jsxs)(w.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsxs)(w.a.Header,{as:"h5",children:["Time Remaining: ",s]}),Object(g.jsx)(w.a.Body,{children:Object(g.jsx)(D,{data:[L]})}),Object(g.jsx)(w.a.Footer,{children:n.renderChoices.map((function(e,t){return Object(g.jsx)(x.a,{id:t,onClickCapture:E,variant:1===I[t]?t===n.answerIndex?"success":"danger":"primary",disabled:1===I[t],style:{margin:"0 2%"},children:Object(g.jsx)(q.a,{tex:"y = ".concat(e),style:{pointerEvents:"none;"},display:!1})},t)}))})]}),Object(g.jsxs)(ee.a,{show:b,onHide:u,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(ee.a.Header,{closeButton:!0,children:Object(g.jsx)(ee.a.Title,{children:f===n.answerIndex?"Correct!":"Not Quite..."})}),Object(g.jsx)(ee.a.Body,{children:f===n.answerIndex?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:["Good work! ",Object(g.jsx)(q.a,{tex:"y = ".concat(n.renderChoices[f]),display:!1})," was the correct equation."]}),Object(g.jsx)(w.a,{style:{height:"40vh"},className:"text-center",children:Object(g.jsx)(D,{data:[n]})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:["Not quite... ",Object(g.jsx)(q.a,{tex:"y = ".concat(n.renderChoices[f]),display:!1})," isn't correct."]}),Object(g.jsx)(w.a,{style:{height:"40vh"},className:"text-center",children:Object(g.jsx)(D,{data:null==f?[L]:[L,{id:"wrongData",data:Object(i.a)(Array(Math.floor((n.xEnd-n.xStart)/parseFloat(n.xInc))+1).keys()).map((function(e){return{x:String(e),y:B(e)}})).slice(0,L.data.length)}]})})]})}),Object(g.jsx)(ee.a.Footer,{children:Object(g.jsx)(x.a,{variant:"secondary",onClick:u,children:"Close"})})]})]})},ce=function(e){var t=e.displayName,n=e.playersList;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t]}),Object(g.jsx)("br",{}),Object(g.jsx)("h1",{children:"WAITING"}),Object(g.jsx)("ul",{children:n.map((function(e){return Object(g.jsx)("li",{children:e.name},e.name+""+e.city)}))})]})},ae=function(e){var t=e.player,n=e.chartData,c=e.topPlayers,a=void 0===c.find((function(e){return e.id===t.id}))?t:null;return console.log(c.find((function(e){return e.id===t.id}))),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t.name]}),Object(g.jsxs)("h3",{children:["Score: ",t.score]}),Object(g.jsx)("br",{}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(F.a,{xs:8,children:Object(g.jsxs)(w.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsxs)(w.a.Header,{as:"h5",children:["Time Spent on Question: ",t.times[t.times.length-1],"s"]}),Object(g.jsx)(w.a.Body,{children:Object(g.jsx)(D,{data:[n]})}),Object(g.jsx)(w.a.Footer,{children:n.renderChoices.map((function(e,t){return Object(g.jsx)(x.a,{id:t,disabled:!0,variant:t===n.answerIndex?"success":"primary",style:{margin:"0 2%"},children:Object(g.jsx)(q.a,{tex:"y = ".concat(e),display:!1})},t)}))})]})}),Object(g.jsxs)(F.a,{children:[Object(g.jsx)("h1",{children:"LEADERBOARD"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Top Players"}),Object(g.jsx)("th",{children:"Scores"})]})}),Object(g.jsxs)("tbody",{children:[c.map((function(e){return Object(g.jsxs)("tr",{style:e.id===t.id?{backgroundColor:"lightgreen"}:{},children:[e.id===t.id?Object(g.jsx)("td",{children:Object(g.jsx)("b",{children:e.name})}):Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.score)})),null==a?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:2,style:{textAlign:"center"},children:"..."})},"ellipsis"),Object(g.jsxs)("tr",{style:{backgroundColor:"lightgreen"},children:[Object(g.jsx)("td",{children:Object(g.jsx)("b",{children:a.name})}),Object(g.jsx)("td",{children:a.score})]},"localPlayer")]})]})]})]})]})})]})},se=function(e){var t=e.player,n=e.chartsData,c=e.topPlayers,a=void 0===c.find((function(e){return e.id===t.id}))?null:t;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t.name]}),Object(g.jsxs)("h3",{children:["Score: ",t.score]}),Object(g.jsx)("br",{}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(F.a,{xs:8,children:Object(g.jsx)(G.a.Container,{id:"list-group-tabs-example",defaultActiveKey:n[0].id,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(F.a,{sm:3,children:Object(g.jsx)(T.a,{children:n.map((function(e,t){return Object(g.jsxs)(T.a.Item,{href:e.id,style:{cursor:"pointer"},children:["Q",t+1,": ",e.id]},e.id)}))})}),Object(g.jsx)(F.a,{sm:9,children:Object(g.jsx)(G.a.Content,{children:n.map((function(e,n){return Object(g.jsxs)(G.a.Pane,{eventKey:e.id,children:[Object(g.jsxs)(w.a,{style:{height:"60vh"},className:"text-center",children:[Object(g.jsxs)(w.a.Header,{as:"h5",children:["Time Spent on Question: ",t.times[n],"s"]}),Object(g.jsx)(w.a.Body,{children:Object(g.jsx)(D,{data:[e]})}),Object(g.jsx)(w.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(g.jsx)(x.a,{disabled:!0,id:t,variant:e.answerIndex===n?"success":"primary",style:{margin:"0 2%"},children:Object(g.jsx)(q.a,{tex:"y = ".concat(t),display:!1})},t)}))})]}),Object(g.jsx)("h3",{children:"Wrong Answers:"}),Object(g.jsx)(T.a,{horizontal:!0,children:void 0!==t.wrongAnswers[e.id]?t.wrongAnswers[e.id].map((function(t){return Object(g.jsx)(T.a.Item,{children:Object(g.jsx)(q.a,{tex:"y = ".concat(e.renderChoices[t]),display:!1})},t+"wrong")})):Object(g.jsx)(g.Fragment,{})})]},e.id)}))})})]})})}),Object(g.jsxs)(F.a,{children:[Object(g.jsx)("h1",{children:"LEADERBOARD"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Top Players"}),Object(g.jsx)("th",{children:"Scores"})]})}),Object(g.jsxs)("tbody",{children:[c.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.score)})),Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:2,style:{textAlign:"center"},children:"..."})},"ellipsis"),null==a?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:a.name}),Object(g.jsx)("td",{children:a.score})]},"localPlayer")]})]})]})]})})]})},re=function(e){var t=e.goToMainMenu,n=e.goToLeaderboard,c=e.goToQuestion,a=e.goToReview,s=e.goToWaitingRoom,r=e.displayName,i=e.setDisplayName;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:function(){return t()},children:"MAIN MENU"}),Object(g.jsx)(x.a,{onClick:function(){i(r),s(r)},children:"WAITING ROOM"}),Object(g.jsx)(x.a,{onClick:c,children:"QUESTION"}),Object(g.jsx)(x.a,{onClick:function(){return n(1)},children:"LEADERBOARD"}),Object(g.jsx)(x.a,{onClick:function(){return a(1)},children:"REVIEW"}),Object(g.jsx)(u.a,{to:"/admin-page",children:Object(g.jsx)(x.a,{children:"ADMIN"})})]})},ie=function(e){var t=e.questions,n=e.chartData,s=e.players,r=e.adminQuestionIndex,j=e.waitingRoomIsOpen,d=e.playerAnswers,b="MAIN_MENU",h="WAITING_ROOM",x="QUESTION",O="LEADERBOARD",u="REVIEW",m=Object(c.useState)(b),p=Object(l.a)(m,2),f=p[0],y=p[1],v=Object(c.useState)(15),S=Object(l.a)(v,2),I=S[0],N=S[1],C=Object(c.useState)(null),k=Object(l.a)(C,2),F=k[0],w=k[1],A=Object(c.useState)({id:null,name:null,score:null,section:null,answers:[],wrongAnswers:[],times:[]}),E=Object(l.a)(A,2),G=E[0],T=E[1],P=Object(c.useState)(!1),D=Object(l.a)(P,2),q=D[0],L=D[1],M=function(e,t){y(h);var n=Object(Q.a)(Object(Q.a)({},G),{},{id:Math.floor(Math.random()*Date.now()),name:e,section:t,score:0});T(Object(Q.a)({},n)),o.collection("playersDB").doc(e).set(Object(Q.a)({},n))},B=a.a.useCallback((function(){y(x),w(r),console.log(r),N(15)}),[r,x]),R=a.a.useCallback((function(){y(O)}),[O]),z=a.a.useCallback((function(){y(u)}),[u]);a.a.useEffect((function(){null==r||f!==h&&r===F||B(),null!==r||f!==x&&f!==O||z()}),[r,F,f,h,x,O,B,z]);var W=function(){var e=Object(X.a)(_.a.mark((function e(t,c){var a,s,r,l,j;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=parseFloat(n.maxScore)*parseFloat(c)/parseFloat(15),s=G.wrongAnswers,r=!1,void 0===s[n.id]&&(s[n.id]=[],r=!0),t!==n.answerIndex&&s[n.id].push(t),l=Object(Q.a)(Object(Q.a)({},G),{},{answers:r?[].concat(Object(i.a)(G.answers),[t]):Object(i.a)(G.answers),wrongAnswers:s,times:r?[].concat(Object(i.a)(G.times),[15-c]):Object(i.a)(G.times),score:G.score+r?Math.floor(a):0}),T(Object(Q.a)({},l)),o.collection("playersDB").doc(G.name).set(Object(Q.a)({},l)),(j=d)[G.id]=t,o.collection("adminVars").doc("PlayerAnswers").set(Object(Q.a)({},j)),console.log(d,j);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=Object(c.useState)([]),V=Object(l.a)(H,2),Y=V[0],K=V[1];return a.a.useEffect((function(){K(s.filter((function(e){return Number.isInteger(e.score)})).sort((function(e,t){return e.score<t.score?1:-1})).slice(0,5)),f!==b&&void 0===s.find((function(e){return e.id===G.id}))&&(y(b),L(!0))}),[s,b]),a.a.useEffect((function(){var e=setInterval((function(){if(f===x)if(I>0)N((function(e){return e-1}));else{var e=Object(Q.a)(Object(Q.a)({},G),{},{answers:[].concat(Object(i.a)(G.answers),[null]),times:[].concat(Object(i.a)(G.times),[null])});T(Object(Q.a)({},e)),o.collection("playersDB").doc(G.name).set(Object(Q.a)({},e)),R()}}),1e3);return function(){return clearInterval(e)}}),[I,R,f,x]),Object(g.jsxs)(g.Fragment,{children:[f===b?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(te,{onSubmitName:function(e,t){T(Object(Q.a)(Object(Q.a)({},G),{},{name:e,section:t})),M(e,t)},canSubmitName:j})}):Object(g.jsx)(g.Fragment,{}),f===h?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(ce,{displayName:G.name,playersList:s})}):Object(g.jsx)(g.Fragment,{}),f===x?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(ne,{displayName:G.name,chartData:n,questionTime:15,timer:I,endQuestion:R,selectAnswer:W})}):Object(g.jsx)(g.Fragment,{}),f===O?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(ae,{player:G,chartData:n,topPlayers:Y})}):Object(g.jsx)(g.Fragment,{}),f===u?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(se,{player:G,chartsData:t,topPlayers:Y})}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)(ee.a,{show:q,onHide:function(){return L(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(ee.a.Header,{closeButton:!0,children:Object(g.jsx)(ee.a.Title,{children:"Kicked From Game"})}),Object(g.jsx)(ee.a.Body,{children:"You've been kicked from the game and removed from the database. Contact the administrator for more information."})]}),Object(g.jsx)("br",{}),Object(g.jsx)(re,{goToMainMenu:function(){y(b)},goToLeaderboard:R,goToReview:z,goToQuestion:B,goToWaitingRoom:M,displayName:null==G.name?"":G.name,setDisplayName:function(e){return T(Object(Q.a)(Object(Q.a)({},G),{},{name:e}))}})]})};n(600);var le=function(){var e={OFFLINE:"OFFLINE",WAITING:"WAITING",PLAYING:"PLAYING",REVIEW:"REVIEW"},t=Object(c.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1];a.a.useEffect((function(){o.collection("playersDB").onSnapshot((function(e){console.log(e.docs),e.docs.length>0?r(e.docs.map((function(e){return e.data()}))):r([])})),console.log("fetched players from firebase")}),[]);var j=Object(c.useState)([]),O=Object(l.a)(j,2),m=O[0],p=O[1];a.a.useEffect((function(){o.collection("questions").onSnapshot((function(e){console.log(e.docs),p(e.docs.map((function(e){var t=e.data(),n=t.xEnd,c=t.xStart,a=t.xInc,s=t.evalChoices,r=t.renderChoices,l=t.answerIndex,j=t.maxScore;return{id:e.id,color:"hsl(24, 70%, 50%)",data:Object(i.a)(Array(Math.floor((n-c)/parseFloat(a))+1).keys()).map((function(e){return{x:String(e),y:Object(h.a)(s[l])({x:e})}})),renderChoices:r,answerIndex:l,maxScore:null==j?300:j,evalChoices:s,xEnd:n,xStart:c,xInc:a}})).sort((function(e,t){return parseInt(e.id.substring(1))>parseInt(t.id.substring(1))?1:-1})))})),console.log("fetched questions from firebase")}),[]);var y=Object(c.useState)({pageState:e.OFFLINE,questionIndex:null}),v=Object(l.a)(y,2),S=v[0],N=v[1];a.a.useEffect((function(){o.collection("adminVars").doc("GameState").onSnapshot((function(e){console.log(e.data()),void 0!==e.data()&&N(e.data()),o.collection("playersDB").get().then((function(e){r(e.docs.map((function(e){return e.data()})))}))})),console.log("fetched adminVars.GameState from firebase")}),[]);var C=Object(c.useState)({}),k=Object(l.a)(C,2),F=k[0],w=k[1];return a.a.useEffect((function(){o.collection("adminVars").doc("PlayerAnswers").onSnapshot((function(e){console.log(e.data()),void 0!==e.data()&&w(e.data())})),console.log("fetched adminVars.PlayerAnswers from firebase")}),[]),Object(g.jsxs)(d.BrowserRouter,{basename:"/NameThatSummation",children:[Object(g.jsxs)(b.g,{children:[Object(g.jsx)(b.d,{exact:!0,path:"/",children:Object(g.jsxs)("nav",{children:[Object(g.jsx)(u.a,{to:"/team-page",children:Object(g.jsx)(x.a,{children:"TEAM PAGE"})}),Object(g.jsx)(u.a,{to:"/game-page",children:Object(g.jsx)(x.a,{children:"GAME PAGE"})}),Object(g.jsx)(u.a,{to:"/admin-page",children:Object(g.jsx)(x.a,{children:"ADMIN PAGE"})}),Object(g.jsx)(x.a,{onClick:function(){var t={pageState:e.OFFLINE,questionIndex:null};N(t),H(t),z(s),Y(m)},id:"cleargame",variant:"danger",size:"lg",block:!0,children:"Clear Game"})]})}),Object(g.jsxs)(b.d,{path:"/team-page",children:[Object(g.jsx)(f,{}),Object(g.jsx)("br",{}),Object(g.jsx)(I,{})]}),Object(g.jsx)(b.d,{path:"/game-page",children:Object(g.jsx)(ie,{questions:m,chartData:null!=S.questionIndex?m[S.questionIndex]:{id:"",color:null,data:[],renderChoices:[],answerIndex:null,maxScore:null},players:s,adminQuestionIndex:S.questionIndex,waitingRoomIsOpen:S.pageState===e.WAITING,playerAnswers:F})}),Object(g.jsx)(b.d,{path:"/admin-page",children:Object(g.jsx)(U,{pageStates:e,pageState:S.pageState,playersList:s,localGameState:S,setLocalGameState:N,questions:m,playerAnswers:F})})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(u.a,{to:"/",children:Object(g.jsx)(x.a,{children:"HOME"})})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,607)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(g.jsx)(le,{}),document.getElementById("root")),je()}},[[601,1,2]]]);
//# sourceMappingURL=main.d89be08a.chunk.js.map