(this.webpackJsonpNameThatSummation=this.webpackJsonpNameThatSummation||[]).push([[0],{302:function(e,t,n){},598:function(e,t,n){},599:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(64),r=n.n(s),i=(n(302),n(47)),j=n(22),l=n(137);n(600);l.a.initializeApp({apiKey:"AIzaSyBxdroTYNIaxZcwj75RaYMU601PjTzoRnM",authDomain:"comp585-e8338.firebaseapp.com",projectId:"comp585-e8338",storageBucket:"comp585-e8338.appspot.com",messagingSenderId:"1011171509531",appId:"1:1011171509531:web:fa24c5896cbcb16e6cbfbe",measurementId:"G-V22WJ91GTT"});l.a.auth;var d=l.a.firestore(),o=n(182),b=n(21),h=n(121),x=n(9),O=n(46),m=n.n(O),u=n(56),p=n(43),g=n(1),f=function(){return Object(g.jsxs)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(g.jsx)(u.a.Brand,{children:"Name That Summation"}),Object(g.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsxs)(u.a.Collapse,{id:"responsive-navbar-nav",children:[Object(g.jsx)(p.a,{className:"mr-auto"}),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(p.a.Item,{className:"mr-2",children:Object(g.jsx)(m.a,{to:"/game-page",children:Object(g.jsxs)(x.a,{children:["Go to ",Object(g.jsx)("strong",{children:"Game"})]})})}),Object(g.jsxs)(p.a.Link,{href:"https://github.com/BlaziusMaximus/NameThatSummation",children:["Go to ",Object(g.jsx)("strong",{children:"GitHub"})]})]})]})]})},y=n(29),v=n(12),I=n(277),S=function(){return Object(g.jsxs)(y.a,{children:[Object(g.jsx)(v.a,{children:Object(g.jsx)("h3",{children:"Team/Client Information"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Adam Cogdell (adamc77@live.unc.edu): Game Architect, Client Manager"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Emre Yanmis (emre61@live.unc.edu): Software Architect"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Tiger Deng (y.deng@unc.edu): Project Manager, Editor"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"John Majikes (jmajikes@cs.unc.edu): Client"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("h3",{id:"meeting-information",children:"Meeting Information"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Client Meetings: Tuesday @ 2:30PM"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Professor Meetings (recitation): Thursday 3:30-4:30PM"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("p",{children:"Team Meetings: Monday @ 6:00PM"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("div",{style:{width:"8.5in",height:"auto"},children:Object(g.jsx)(I.a,{aspectRatio:"1by1",children:Object(g.jsx)("iframe",{title:"Design Doc",src:"https://docs.google.com/document/d/e/2PACX-1vR3nIMv9RltRskz5HY8NZmztMdaF0d1Mfb3Hda5n9-c8VyV_3afAFM-4RU_UVSMI2WajPdJPZLxVgmS/pub?embedded=true"})})})})]})},N=n(41),k=function(e){var t=e.playersList,n=e.startGame,c=e.quitGame,a=e.kickPlayer;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:c,id:"startgame",variant:"danger",size:"lg",block:!0,children:"Quit Game"}),Object(g.jsx)(x.a,{onClick:n,id:"startgame",variant:"success",size:"lg",block:!0,children:"Start Game"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{width:"10%"}}),Object(g.jsx)("th",{children:"Player"}),Object(g.jsx)("th",{children:"Section"})]})}),Object(g.jsx)("tbody",{children:t.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(x.a,{onClick:function(){return a(e)},children:"Kick"})}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.section})]},e.name+""+e.section)}))})]})]})},C=n(13),F=n(14),G=n(295),A=n(37),w=n(48),T=n(292),E=n(294),P=function(e){var t=e.data;return Object(g.jsx)(E.a,{data:t,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"x-axis",legendOffset:36,legendPosition:"center"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"y-axis",legendOffset:-40,legendPosition:"center"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},D=n(36),M=function(e){var t=e.quitGame,n=e.prevQuestion,a=e.nextQuestion,s=e.questions,r=e.adminGameState,i=e.playersList,l=Object(c.useState)("players"),d=Object(j.a)(l,2),o=d[0],b=d[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:t,id:"startgame",variant:"danger",size:"lg",block:!0,children:"Quit Game"}),Object(g.jsxs)(T.a,{className:"d-flex",children:[Object(g.jsx)(x.a,{className:"btn-block mr-1 mt-1 btn-lg",onClick:n,id:"prev",variant:"secondary",size:"lg",block:!0,disabled:0===r.questionIndex,children:"Previous Question"}),Object(g.jsx)(x.a,{className:"btn-block mr-1 mt-1 btn-lg",onClick:a,id:"next",variant:"primary",size:"lg",block:!0,children:"Next Question"})]}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{sm:5,children:Object(g.jsxs)(F.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsx)(F.a.Body,{children:Object(g.jsx)(P,{data:[s[r.questionIndex]]})}),Object(g.jsx)(F.a.Footer,{children:s[r.questionIndex].renderChoices.map((function(e,t){return Object(g.jsx)(x.a,{id:t,disabled:!0,style:{margin:"0 2%"},variant:s[r.questionIndex].answerIndex===t?"success":"primary",children:Object(g.jsx)(D.a,{tex:"y = ".concat(e),display:!1})},t)}))})]})}),Object(g.jsx)(C.a,{style:{padding:"0"},children:Object(g.jsxs)(G.a,{id:"tabs",activeKey:o,onSelect:function(e){return b(e)},children:[Object(g.jsx)(A.a,{eventKey:"players",title:"Players",children:Object(g.jsx)(y.a,{style:{height:"80vh",overflowY:"scroll"},children:Object(g.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Player"}),Object(g.jsx)("th",{children:"Section"}),Object(g.jsx)("th",{children:"Score"})]})}),Object(g.jsx)("tbody",{children:i.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.section}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.city)}))})]})})}),Object(g.jsx)(A.a,{eventKey:"questions",title:"Questions",children:Object(g.jsx)(y.a,{children:Object(g.jsx)(A.a.Container,{defaultActiveKey:"".concat(r.questionIndex),children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{sm:4,children:Object(g.jsx)(w.a,{style:{height:"80vh",overflowY:"scroll"},children:s.map((function(e,t){return Object(g.jsx)(w.a.Item,{href:"".concat(t),style:{cursor:"pointer",paddingLeft:"0",paddingRight:"0"},variant:t===r.questionIndex?"primary":t<r.questionIndex?"secondary":"",children:Object(g.jsx)(y.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(C.a,{children:e.id})})})},"".concat(t))}))})}),Object(g.jsx)(C.a,{sm:8,style:{paddingLeft:"0"},children:Object(g.jsx)(A.a.Content,{children:s.map((function(e,t){return Object(g.jsx)(A.a.Pane,{eventKey:"".concat(t),children:Object(g.jsxs)(F.a,{style:{height:"60vh"},className:"text-center",children:[Object(g.jsx)(F.a.Body,{children:Object(g.jsx)(P,{data:[e]})}),Object(g.jsx)(F.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(g.jsx)(x.a,{id:n,disabled:!0,style:{margin:"0 2%"},variant:e.answerIndex===n?"success":"primary",children:Object(g.jsx)(D.a,{tex:"y = ".concat(t),display:!1})},n)}))})]})},"".concat(t))}))})})]})})})})]})})]})})]})},L=function(e){var t=e.chartsData,n=e.playersList,c=e.endGame,a=n.sort((function(e,t){return e.name>t.name?1:-1}));console.log(a);var s=a.length>=5?a.slice(0,5):a;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:c,id:"cleargame",variant:"secondary",size:"lg",block:!0,children:"End Game"}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{xs:8,children:Object(g.jsx)(A.a.Container,{id:"list-group-tabs-example",defaultActiveKey:t[0].id,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{sm:4,children:Object(g.jsx)(w.a,{children:t.map((function(e,t){return Object(g.jsxs)(w.a.Item,{href:e.id,children:["Question ",t,": ",e.id]},e.id)}))})}),Object(g.jsx)(C.a,{sm:8,children:Object(g.jsx)(A.a.Content,{children:t.map((function(e,t){return Object(g.jsx)(A.a.Pane,{eventKey:e.id,children:Object(g.jsxs)(F.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsx)(F.a.Body,{children:Object(g.jsx)(P,{data:[e]})}),Object(g.jsx)(F.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(g.jsx)(x.a,{disabled:!0,id:t,variant:e.answerIndex===n?"success":"primary",style:{margin:"0 2%"},children:Object(g.jsx)(D.a,{tex:"y = ".concat(t),style:{pointerEvents:"none;"}})},t)}))})]})},e.id)}))})})]})})}),Object(g.jsxs)(C.a,{children:[Object(g.jsx)("h1",{children:"LEADERBOARD"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Top Players"}),Object(g.jsx)("th",{children:"Scores"})]})}),Object(g.jsx)("tbody",{children:s.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.score)}))})]})]})]})})]})},R=function(e){var t=e.initializeGame,n=e.clearGame,c=e.playersList;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:t,id:"startgame",variant:"danger",size:"lg",block:!0,children:"Initialize Game"}),Object(g.jsx)(x.a,{onClick:n,id:"cleargame",variant:"secondary",size:"lg",block:!0,children:"Clear Game"}),Object(g.jsx)("br",{}),0===c.length?Object(g.jsx)(y.a,{children:Object(g.jsx)(v.a,{className:"justify-content-md-center",children:Object(g.jsx)(C.a,{sm:"auto",children:Object(g.jsx)("h1",{children:"No Players in Database"})})})}):Object(g.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Player"}),Object(g.jsx)("th",{children:"Section"})]})}),Object(g.jsx)("tbody",{children:c.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.section})]},e.name+""+e.section)}))})]})]})},B=function(e){var t=e.gameStates,n=e.gameState,c=e.playersList,a=e.adminGameState,s=e.setAdminGameState,r=e.questions,i=function(){var e={state:t.OFFLINE,questionIndex:null};s(e),d.collection("adminVars").doc("GameState").set(e),c.forEach((function(e){d.collection("playersDB").doc(e.name).delete()}))};return Object(g.jsxs)(g.Fragment,{children:[n===t.OFFLINE?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(R,{initializeGame:function(){var e={state:t.WAITING,questionIndex:null};s(e),d.collection("adminVars").doc("GameState").set(e)},clearGame:i,playersList:c})}):Object(g.jsx)(g.Fragment,{}),n===t.WAITING?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(k,{playersList:c,startGame:function(){var e={state:t.PLAYING,questionIndex:0};s(e),d.collection("adminVars").doc("GameState").set(e)},quitGame:i,kickPlayer:function(e){d.collection("playersDB").doc(e.name).delete()}})}):Object(g.jsx)(g.Fragment,{}),n===t.PLAYING?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(M,{quitGame:i,prevQuestion:function(){var e=a.questionIndex-1;if(e>=0){var n={state:t.PLAYING,questionIndex:e};s(n),d.collection("adminVars").doc("GameState").set(n)}},nextQuestion:function(){var e=a.questionIndex+1;if(e<r.length){var n={state:t.PLAYING,questionIndex:e};s(n),d.collection("adminVars").doc("GameState").set(n)}else{var c={state:t.REVIEW,questionIndex:null};s(c),d.collection("adminVars").doc("GameState").set(c)}},questions:r,adminGameState:a,playersList:c})}):Object(g.jsx)(g.Fragment,{}),n===t.REVIEW?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(L,{chartsData:r,playersList:c,endGame:i})}):Object(g.jsx)(g.Fragment,{})]})},q=n(189),z=n.n(q),Q=n(293),W=n(24),V=n(57),H=n(190),Y=n(98),K=n(31),U=function(e){var t=e.onSubmitName,n=e.canSubmitName,a=Object(c.useState)(!1),s=Object(j.a)(a,2),r=s[0],i=s[1],l=function(){return i(!1)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(g.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsxs)(u.a.Collapse,{id:"responsive-navbar-nav",children:[Object(g.jsx)(p.a,{className:"mr-auto"}),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(p.a.Item,{className:"mr-2",children:Object(g.jsx)(m.a,{to:"/team-page",children:Object(g.jsxs)(x.a,{children:["Go to ",Object(g.jsx)("strong",{children:"Team Page"})]})})}),Object(g.jsxs)(p.a.Link,{href:"https://github.com/BlaziusMaximus/NameThatSummation",children:["Go to ",Object(g.jsx)("strong",{children:"GitHub"})]})]})]})]}),Object(g.jsx)(x.a,{variant:"secondary",onClick:function(){return i(!0)},children:"Settings"}),Object(g.jsxs)(K.a,{show:r,onHide:l,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(K.a.Header,{closeButton:!0,children:Object(g.jsx)(K.a.Title,{children:"Settings"})}),Object(g.jsx)(K.a.Body,{children:Object(g.jsxs)("fieldset",{children:[Object(g.jsxs)(V.a,{children:[Object(g.jsx)(V.a.Check,{type:"checkbox",label:"Settings Option 1"}),Object(g.jsx)(V.a.Check,{type:"checkbox",label:"Settings Option 2"})]}),Object(g.jsxs)(V.a,{children:[Object(g.jsx)(V.a.Check,{type:"radio",label:"Settings Option 3"}),Object(g.jsx)(V.a.Check,{type:"radio",label:"Settings Option 4"})]})]})}),Object(g.jsx)(K.a.Footer,{children:Object(g.jsx)(x.a,{variant:"secondary",onClick:l,children:"Close"})})]}),Object(g.jsxs)(y.a,{children:[Object(g.jsx)(v.a,{className:"justify-content-md-center",children:Object(g.jsx)(C.a,{sm:"auto",children:Object(g.jsx)("h1",{children:"Name That Summation"})})}),Object(g.jsx)(v.a,{className:"justify-content-md-center",children:Object(g.jsx)(C.a,{sm:8,children:Object(g.jsx)(V.a,{onSubmit:function(e){e.preventDefault(),t(e.target[0].value,e.target[1].value)},children:Object(g.jsx)(V.a.Row,{children:Object(g.jsxs)(H.a,{children:[Object(g.jsx)(C.a,{style:{padding:"0"},children:Object(g.jsx)(Y.a,{placeholder:"Display Name","aria-label":"Display Name","aria-describedby":"display-name-form"})}),Object(g.jsx)(C.a,{style:{padding:"0"},children:Object(g.jsx)(Y.a,{placeholder:"Section","aria-label":"Section","aria-describedby":"section-form"})}),Object(g.jsx)(H.a.Append,{children:Object(g.jsx)(x.a,{variant:"outline-primary",type:"submit",disabled:!n,children:"Submit"})})]})})})})})]})]})},J=function(e){var t=e.displayName,n=e.chartData,a=e.questionTime,s=e.timer,r=e.endQuestion,l=e.selectAnswer,d=Object(c.useState)(!1),o=Object(j.a)(d,2),b=o[0],O=o[1],m=function(){O(!1),f===n.answerIndex&&r(G)},u=Object(c.useState)(null),p=Object(j.a)(u,2),f=p[0],y=p[1],v=Object(c.useState)(new Array(n.renderChoices.length).fill(0)),I=Object(j.a)(v,2),S=I[0],N=I[1],k=Object(c.useState)(null),C=Object(j.a)(k,2),G=C[0],A=C[1],w=function(e){e.preventDefault();var t=parseInt(e.currentTarget.id),n=S;n[parseInt(t)]=1,N(n),l(t,a-s),y(t),A(a-s),O(!0)},T=Object(W.a)({},n);T.data=T.data.slice(0,1);var E=Object(c.useState)(T),M=Object(j.a)(E,2),L=M[0],R=M[1];Object(c.useEffect)((function(){var e=Object(W.a)({},n),t=parseFloat(a-s)/parseFloat(a),c=n.data.length,r=Math.floor(t*(c-1))+1;console.log(r),e.data=e.data.slice(0,Math.min(c,r)),R(e)}),[s,a,n,r]);var B=function(e){var t=Object(h.a)(n.evalChoices[f])({x:e});return t===1/0||t===-1/0?null:t};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t]}),Object(g.jsxs)(F.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsxs)(F.a.Header,{as:"h5",children:["Time Remaining: ",s]}),Object(g.jsx)(F.a.Body,{children:Object(g.jsx)(P,{data:[L]})}),Object(g.jsx)(F.a.Footer,{children:n.renderChoices.map((function(e,t){return Object(g.jsx)(x.a,{id:t,onClickCapture:w,variant:1===S[t]?t===n.answerIndex?"success":"danger":"primary",disabled:1===S[t],style:{margin:"0 2%"},children:Object(g.jsx)(D.a,{tex:"y = ".concat(e),style:{pointerEvents:"none;"},display:!1})},t)}))})]}),Object(g.jsxs)(K.a,{show:b,onHide:m,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(K.a.Header,{closeButton:!0,children:Object(g.jsx)(K.a.Title,{children:f===n.answerIndex?"Correct!":"Not Quite..."})}),Object(g.jsx)(K.a.Body,{children:f===n.answerIndex?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:["Good work! ",Object(g.jsx)(D.a,{tex:"y = ".concat(n.renderChoices[f]),display:!1})," was the correct equation."]}),Object(g.jsx)(F.a,{style:{height:"40vh"},className:"text-center",children:Object(g.jsx)(P,{data:[n]})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:["Not quite... ",Object(g.jsx)(D.a,{tex:"y = ".concat(n.renderChoices[f]),display:!1})," isn't correct."]}),Object(g.jsx)(F.a,{style:{height:"40vh"},className:"text-center",children:Object(g.jsx)(P,{data:null==f?[L]:[L,{id:"wrongData",data:Object(i.a)(Array(Math.floor((n.xEnd-n.xStart)/parseFloat(n.xInc))+1).keys()).map((function(e){return{x:String(e),y:B(e)}})).slice(0,L.data.length)}]})})]})}),Object(g.jsx)(K.a.Footer,{children:Object(g.jsx)(x.a,{variant:"secondary",onClick:m,children:"Close"})})]})]})},_=function(e){var t=e.displayName,n=e.playersList;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t]}),Object(g.jsx)("br",{}),Object(g.jsx)("h1",{children:"WAITING"}),Object(g.jsx)("ul",{children:n.map((function(e){return Object(g.jsx)("li",{children:e.name},e.name+""+e.city)}))})]})},Z=function(e){var t=e.player,n=e.chartData,c=e.topPlayers,a=void 0===c.find((function(e){return e.id===t.id}))?null:t;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t.name]}),Object(g.jsxs)("h3",{children:["Score: ",t.score]}),Object(g.jsx)("br",{}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{xs:8,children:Object(g.jsxs)(F.a,{style:{height:"80vh"},className:"text-center",children:[Object(g.jsxs)(F.a.Header,{as:"h5",children:["Time Spent on Question: ",t.times[t.times.length-1],"s"]}),Object(g.jsx)(F.a.Body,{children:Object(g.jsx)(P,{data:[n]})}),Object(g.jsx)(F.a.Footer,{children:n.renderChoices.map((function(e,t){return Object(g.jsx)(x.a,{id:t,disabled:!0,variant:t===n.answerIndex?"success":"primary",style:{margin:"0 2%"},children:Object(g.jsx)(D.a,{tex:"y = ".concat(e),display:!1})},t)}))})]})}),Object(g.jsxs)(C.a,{children:[Object(g.jsx)("h1",{children:"LEADERBOARD"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Top Players"}),Object(g.jsx)("th",{children:"Scores"})]})}),Object(g.jsxs)("tbody",{children:[c.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.score)})),Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:2,style:{textAlign:"center"},children:"..."})},"ellipsis"),null==a?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:a.name}),Object(g.jsx)("td",{children:a.score})]},"localPlayer")]})]})]})]})})]})},X=function(e){var t=e.player,n=e.chartsData,c=e.topPlayers,a=void 0===c.find((function(e){return e.id===t.id}))?null:t;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Name: ",t.name]}),Object(g.jsxs)("h3",{children:["Score: ",t.score]}),Object(g.jsx)("br",{}),Object(g.jsx)(y.a,{fluid:!0,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{xs:8,children:Object(g.jsx)(A.a.Container,{id:"list-group-tabs-example",defaultActiveKey:n[0].id,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{sm:3,children:Object(g.jsx)(w.a,{children:n.map((function(e,t){return Object(g.jsxs)(w.a.Item,{href:e.id,style:{cursor:"pointer"},children:["Q",t+1,": ",e.id]},e.id)}))})}),Object(g.jsx)(C.a,{sm:9,children:Object(g.jsx)(A.a.Content,{children:n.map((function(e,n){return Object(g.jsxs)(A.a.Pane,{eventKey:e.id,children:[Object(g.jsxs)(F.a,{style:{height:"60vh"},className:"text-center",children:[Object(g.jsxs)(F.a.Header,{as:"h5",children:["Time Spent on Question: ",t.times[n],"s"]}),Object(g.jsx)(F.a.Body,{children:Object(g.jsx)(P,{data:[e]})}),Object(g.jsx)(F.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(g.jsx)(x.a,{disabled:!0,id:t,variant:e.answerIndex===n?"success":"primary",style:{margin:"0 2%"},children:Object(g.jsx)(D.a,{tex:"y = ".concat(t),display:!1})},t)}))})]}),Object(g.jsx)("h3",{children:"Wrong Answers:"}),Object(g.jsx)(w.a,{horizontal:!0,children:void 0!==t.wrongAnswers[e.id]?t.wrongAnswers[e.id].map((function(t){return Object(g.jsx)(w.a.Item,{children:Object(g.jsx)(D.a,{tex:"y = ".concat(e.renderChoices[t]),display:!1})},t+"wrong")})):Object(g.jsx)(g.Fragment,{})})]},e.id)}))})})]})})}),Object(g.jsxs)(C.a,{children:[Object(g.jsx)("h1",{children:"LEADERBOARD"}),Object(g.jsxs)(N.a,{striped:!0,bordered:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Top Players"}),Object(g.jsx)("th",{children:"Scores"})]})}),Object(g.jsxs)("tbody",{children:[c.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.score})]},e.name+""+e.score)})),Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:2,style:{textAlign:"center"},children:"..."})},"ellipsis"),null==a?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:a.name}),Object(g.jsx)("td",{children:a.score})]},"localPlayer")]})]})]})]})})]})},$=function(e){var t=e.goToMainMenu,n=e.goToLeaderboard,c=e.goToQuestion,a=e.goToReview,s=e.goToWaitingRoom,r=e.displayName,i=e.setDisplayName;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{onClick:function(){return t()},children:"MAIN MENU"}),Object(g.jsx)(x.a,{onClick:function(){i(r),s(r)},children:"WAITING ROOM"}),Object(g.jsx)(x.a,{onClick:c,children:"QUESTION"}),Object(g.jsx)(x.a,{onClick:function(){return n(1)},children:"LEADERBOARD"}),Object(g.jsx)(x.a,{onClick:function(){return a(1)},children:"REVIEW"}),Object(g.jsx)(m.a,{to:"/admin-page",children:Object(g.jsx)(x.a,{children:"ADMIN"})})]})},ee=function(e){var t=e.questions,n=e.chartData,s=e.players,r=e.adminQuestionIndex,l=e.waitingRoomIsOpen,o="MAIN_MENU",b="WAITING_ROOM",h="QUESTION",x="LEADERBOARD",O="REVIEW",m=Object(c.useState)(o),u=Object(j.a)(m,2),p=u[0],f=u[1],y=Object(c.useState)(15),v=Object(j.a)(y,2),I=v[0],S=v[1],N=Object(c.useState)(null),k=Object(j.a)(N,2),C=k[0],F=k[1],G=Object(c.useState)({id:null,name:null,score:null,section:null,answers:[],wrongAnswers:[],times:[]}),A=Object(j.a)(G,2),w=A[0],T=A[1],E=Object(c.useState)(!1),P=Object(j.a)(E,2),D=P[0],M=P[1],L=function(e,t){f(b);var n=Object(W.a)(Object(W.a)({},w),{},{id:Math.floor(Math.random()*Date.now()),name:e,section:t,score:0});T(Object(W.a)({},n)),d.collection("playersDB").doc(e).set(Object(W.a)({},n))},R=a.a.useCallback((function(){f(h),F(r),console.log(r),S(15)}),[r,h]),B=a.a.useCallback((function(){f(x)}),[x]),q=a.a.useCallback((function(){f(O)}),[O]);a.a.useEffect((function(){null==r||p!==b&&r===C||R(),null!==r||p!==h&&p!==x||q()}),[r,C,p,b,h,x,R,q]);var V=function(){var e=Object(Q.a)(z.a.mark((function e(t,c){var a,s,r,j;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=parseFloat(n.maxScore)*parseFloat(c)/parseFloat(15),s=w.wrongAnswers,r=!1,void 0===s[n.id]&&(s[n.id]=[],r=!0),t!==n.answerIndex&&s[n.id].push(t),j=Object(W.a)(Object(W.a)({},w),{},{answers:r?[].concat(Object(i.a)(w.answers),[t]):Object(i.a)(w.answers),wrongAnswers:s,times:r?[].concat(Object(i.a)(w.times),[c]):Object(i.a)(w.times),score:w.score+r?Math.floor(a):0}),T(Object(W.a)({},j)),d.collection("playersDB").doc(w.name).set(Object(W.a)({},j));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=Object(c.useState)([]),Y=Object(j.a)(H,2),ee=Y[0],te=Y[1];return a.a.useEffect((function(){te(s.filter((function(e){return Number.isInteger(e.score)})).sort((function(e,t){return e.score<t.score?1:-1})).slice(0,5)),p!==o&&void 0===s.find((function(e){return e.id===w.id}))&&(f(o),M(!0))}),[s,o]),a.a.useEffect((function(){var e=setInterval((function(){if(p===h)if(I>0)S((function(e){return e-1}));else{var e=Object(W.a)(Object(W.a)({},w),{},{answers:[].concat(Object(i.a)(w.answers),[null]),times:[].concat(Object(i.a)(w.times),[null])});T(Object(W.a)({},e)),d.collection("playersDB").doc(w.name).set(Object(W.a)({},e)),B()}}),1e3);return function(){return clearInterval(e)}}),[I,B,p,h]),Object(g.jsxs)(g.Fragment,{children:[p===o?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(U,{onSubmitName:function(e,t){T(Object(W.a)(Object(W.a)({},w),{},{name:e,section:t})),L(e,t)},canSubmitName:l})}):Object(g.jsx)(g.Fragment,{}),p===b?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(_,{displayName:w.name,playersList:s})}):Object(g.jsx)(g.Fragment,{}),p===h?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(J,{displayName:w.name,chartData:n,questionTime:15,timer:I,endQuestion:B,selectAnswer:V})}):Object(g.jsx)(g.Fragment,{}),p===x?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Z,{player:w,chartData:n,topPlayers:ee})}):Object(g.jsx)(g.Fragment,{}),p===O?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(X,{player:w,chartsData:t,topPlayers:ee})}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)(K.a,{show:D,onHide:function(){return M(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(K.a.Header,{closeButton:!0,children:Object(g.jsx)(K.a.Title,{children:"Kicked From Game"})}),Object(g.jsx)(K.a.Body,{children:"You've been kicked from the game and removed from the database. Contact the administrator for more information."})]}),Object(g.jsx)("br",{}),Object(g.jsx)($,{goToMainMenu:function(){f(o)},goToLeaderboard:B,goToReview:q,goToQuestion:R,goToWaitingRoom:L,displayName:null==w.name?"":w.name,setDisplayName:function(e){return T(Object(W.a)(Object(W.a)({},w),{},{name:e}))}})]})};n(598);var te=function(){var e={OFFLINE:"OFFLINE",WAITING:"WAITING",PLAYING:"PLAYING",REVIEW:"REVIEW"},t=Object(c.useState)([]),n=Object(j.a)(t,2),s=n[0],r=n[1];a.a.useEffect((function(){d.collection("playersDB").onSnapshot((function(e){e.docs.length>0?r(e.docs.map((function(e){return e.data()}))):r([])})),console.log("fetched players from firebase")}),[]);var l=Object(c.useState)([]),O=Object(j.a)(l,2),u=O[0],p=O[1];a.a.useEffect((function(){d.collection("questions").onSnapshot((function(e){p(e.docs.map((function(e){var t=e.data(),n=t.xEnd,c=t.xStart,a=t.xInc,s=t.evalChoices,r=t.renderChoices,j=t.answerIndex,l=t.maxScore;return{id:e.id,color:"hsl(24, 70%, 50%)",data:Object(i.a)(Array(Math.floor((n-c)/parseFloat(a))+1).keys()).map((function(e){return{x:String(e),y:Object(h.a)(s[j])({x:e})}})),renderChoices:r,answerIndex:j,maxScore:null==l?300:l,evalChoices:s,xEnd:n,xStart:c,xInc:a}})).sort((function(e,t){return parseInt(e.id.substring(1))>parseInt(t.id.substring(1))?1:-1})))})),console.log("fetched questions from firebase")}),[]);var y=Object(c.useState)({state:e.OFFLINE,questionIndex:null}),v=Object(j.a)(y,2),I=v[0],N=v[1];return a.a.useEffect((function(){d.collection("adminVars").doc("GameState").onSnapshot((function(e){console.log(e.data()),N(e.data()),d.collection("playersDB").get().then((function(e){r(e.docs.map((function(e){return e.data()})))}))})),console.log("fetched admins variables from firebase")}),[]),Object(g.jsxs)(o.BrowserRouter,{basename:"/NameThatSummation",children:[Object(g.jsxs)(b.g,{children:[Object(g.jsx)(b.d,{exact:!0,path:"/",children:Object(g.jsxs)("nav",{children:[Object(g.jsx)(m.a,{to:"/team-page",children:Object(g.jsx)(x.a,{children:"TEAM PAGE"})}),Object(g.jsx)(m.a,{to:"/game-page",children:Object(g.jsx)(x.a,{children:"GAME PAGE"})}),Object(g.jsx)(m.a,{to:"/admin-page",children:Object(g.jsx)(x.a,{children:"ADMIN PAGE"})})]})}),Object(g.jsxs)(b.d,{path:"/team-page",children:[Object(g.jsx)(f,{}),Object(g.jsx)("br",{}),Object(g.jsx)(S,{})]}),Object(g.jsx)(b.d,{path:"/game-page",children:Object(g.jsx)(ee,{questions:u,chartData:null!=I.questionIndex?u[I.questionIndex]:{id:"",color:null,data:[],renderChoices:[],answerIndex:null,maxScore:null},players:s,adminQuestionIndex:I.questionIndex,waitingRoomIsOpen:I.state===e.WAITING})}),Object(g.jsx)(b.d,{path:"/admin-page",children:Object(g.jsx)(B,{gameStates:e,gameState:I.state,playersList:s,adminGameState:I,setAdminGameState:N,questions:u})})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(m.a,{to:"/",children:Object(g.jsx)(x.a,{children:"HOME"})})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,602)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(g.jsx)(te,{}),document.getElementById("root")),ne()}},[[599,1,2]]]);
//# sourceMappingURL=main.99f1206f.chunk.js.map