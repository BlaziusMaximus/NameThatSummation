(this.webpackJsonpNameThatSummation=this.webpackJsonpNameThatSummation||[]).push([[0],{300:function(e,t,n){},596:function(e,t,n){},597:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(55),r=n.n(s),i=(n(300),n(54)),l=n(12),o=n(133);n(598);o.a.initializeApp({apiKey:"AIzaSyB-xHDeSe4hqhBhG5QEOy6NMdF61QA6orI",authDomain:"comp585-version1.firebaseapp.com",projectId:"comp585-version1",storageBucket:"comp585-version1.appspot.com",messagingSenderId:"86593862085",appId:"1:86593862085:web:c1f4f3f0a331797292b3ac",measurementId:"G-1PWT66W06C"});o.a.auth;var j=o.a.firestore(),d=n(178),b=n(19),h=n(115),x=n(27),O=n(44),u=n.n(O),m=n(94),g=n(66),p=n(1),f=function(){return Object(p.jsxs)(m.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(p.jsx)(m.a.Brand,{children:"Name That Summation"}),Object(p.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(p.jsx)(g.a,{className:"mr-auto"}),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(g.a.Item,{className:"mr-2",children:Object(p.jsx)(u.a,{to:"/game-page",children:Object(p.jsxs)(x.a,{children:["Go to ",Object(p.jsx)("strong",{children:"Game"})]})})}),Object(p.jsxs)(g.a.Link,{href:"https://github.com/BlaziusMaximus/NameThatSummation",children:["Go to ",Object(p.jsx)("strong",{children:"GitHub"})]})]})]})]})},y=n(272),v=n(38),S=n(273),I=function(){return Object(p.jsxs)(y.a,{children:[Object(p.jsx)(v.a,{children:Object(p.jsx)("h3",{children:"Team/Client Information"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:"Adam Cogdell (adamc77@live.unc.edu): Game Architect, Client Manager"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:"Emre Yanmis (emre61@live.unc.edu): Software Architect"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:"Tiger Deng (y.deng@unc.edu): Project Manager, Editor"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:"John Majikes (jmajikes@cs.unc.edu): Client"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("h3",{id:"meeting-information",children:"Meeting Information"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:"Client Meetings: Tuesday @ 2:30PM"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:"Professor Meetings (recitation): Thursday 3:30-4:30PM"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("p",{children:"Team Meetings: Monday @ 6:00PM"})}),Object(p.jsx)(v.a,{children:Object(p.jsx)("div",{style:{width:"8.5in",height:"auto"},children:Object(p.jsx)(S.a,{aspectRatio:"1by1",children:Object(p.jsx)("iframe",{title:"Design Doc",src:"https://docs.google.com/document/d/e/2PACX-1vR3nIMv9RltRskz5HY8NZmztMdaF0d1Mfb3Hda5n9-c8VyV_3afAFM-4RU_UVSMI2WajPdJPZLxVgmS/pub?embedded=true"})})})})]})},w=n(600),C=function(e){var t=e.playersList,n=e.startGame,a=e.quitGame,c=e.kickPlayer,s=e.noPlayers;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{onClick:a,id:"startgame",variant:"danger",size:"lg",block:!0,children:"Quit Game"}),Object(p.jsx)(x.a,{onClick:n,id:"startgame",variant:"success",size:"lg",block:!0,disabled:s,children:"Start Game"}),Object(p.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{style:{width:"10%"}}),Object(p.jsx)("th",{children:"Player"}),Object(p.jsx)("th",{children:"Section"})]})}),Object(p.jsx)("tbody",{children:t.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:Object(p.jsx)(x.a,{onClick:function(){return c(e)},children:"Kick"})}),Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.section})]},e.name+""+e.section)}))})]})]})},k=n(601),A=n(288),q=n(68),N=n(602),F=n(603),E=n(604),T=n(608),G=n(293),P=function(e){var t=e.data;return Object(p.jsx)(G.a,{data:t,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"x-axis",legendOffset:36,legendPosition:"center"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"y-axis",legendOffset:-40,legendPosition:"center"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},B=n(23),M=function(e){var t=e.quitGame,n=e.prevQuestion,s=e.nextQuestion,r=e.endQuestion,i=e.questions,o=e.localGameState,j=e.playersList,d=e.playerAnswers,b=Object(a.useState)("players"),h=Object(l.a)(b,2),O=h[0],u=h[1],m=Object(a.useState)([0,0,0,0]),g=Object(l.a)(m,2),f=g[0],S=g[1];return c.a.useEffect((function(){var e=[0,0,0,0];j.forEach((function(t){void 0!==d&&void 0!==d[t.id]&&(e[d[t.id]]+=1)})),S(e)}),[d,j]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{onClick:t,id:"startgame",variant:"danger",size:"lg",block:!0,children:"Quit Game"}),Object(p.jsxs)(k.a,{className:"d-flex",children:[Object(p.jsx)(x.a,{className:"btn-block mr-1 mt-1 btn-lg",onClick:n,id:"prev",variant:"secondary",size:"lg",block:!0,disabled:0===o.questionIndex,children:"Previous Question"}),Object(p.jsx)(x.a,{className:"btn-block mr-1 mt-1 btn-lg",onClick:r,id:"end",variant:"warning",size:"lg",block:!0,children:"End Question"}),Object(p.jsx)(x.a,{className:"btn-block mr-1 mt-1 btn-lg",onClick:s,id:"next",variant:"primary",size:"lg",block:!0,children:o.questionIndex+1<i.length?"Next Question":"Review"})]}),Object(p.jsx)(y.a,{fluid:!0,children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{sm:5,children:Object(p.jsxs)(q.a,{style:{height:"80vh"},className:"text-center",children:[Object(p.jsx)(q.a.Body,{children:Object(p.jsx)(P,{data:[i[o.questionIndex]]})}),Object(p.jsx)(q.a.Footer,{children:i[o.questionIndex].renderChoices.map((function(e,t){return Object(p.jsx)(x.a,{id:t,disabled:!0,style:{margin:"0 2%"},variant:i[o.questionIndex].answerIndex===t?"success":"primary",children:Object(p.jsx)(B.a,{tex:"y = ".concat(e),display:!1})},t)}))}),Object(p.jsx)("br",{}),Object(p.jsx)(y.a,{children:i[o.questionIndex].renderChoices.map((function(e,t){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{sm:3,children:Object(p.jsx)(B.a,{tex:"y = ".concat(e),display:!1})}),Object(p.jsx)(A.a,{children:Object(p.jsx)(N.a,{label:"".concat(f[t]/j.length*100,"%"),variant:i[o.questionIndex].answerIndex===t?"success":"primary",now:f[t]/j.length*100})})]})})}))}),Object(p.jsx)("br",{})]})}),Object(p.jsx)(A.a,{style:{padding:"0"},children:Object(p.jsxs)(F.a,{id:"tabs",activeKey:O,onSelect:function(e){return u(e)},children:[Object(p.jsx)(E.a,{eventKey:"players",title:"Players",children:Object(p.jsx)(y.a,{style:{height:"80vh",overflowY:"scroll"},children:Object(p.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Player"}),Object(p.jsx)("th",{children:"Section"}),Object(p.jsx)("th",{children:"Score"}),Object(p.jsx)("th",{children:"Time"}),Object(p.jsx)("th",{children:"Answer"})]})}),Object(p.jsx)("tbody",{children:j.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.section}),Object(p.jsx)("td",{children:e.score}),Object(p.jsx)("td",{children:null==e.times["q".concat(o.questionIndex)]?0:e.times["q".concat(o.questionIndex)]}),Object(p.jsx)("td",{children:null!=e.answers["q"+o.questionIndex.toString()]?Object(p.jsx)(B.a,{tex:"y = ".concat(i[o.questionIndex].renderChoices[e.answers["q"+o.questionIndex.toString()]]),display:!1}):"NONE"})]},e.name+""+e.city)}))})]})})}),Object(p.jsx)(E.a,{eventKey:"questions",title:"Questions",children:Object(p.jsx)(y.a,{children:Object(p.jsx)(E.a.Container,{defaultActiveKey:"".concat(o.questionIndex),children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{sm:4,children:Object(p.jsx)(T.a,{style:{height:"80vh",overflowY:"scroll"},children:i.map((function(e,t){return Object(p.jsx)(T.a.Item,{href:"".concat(t),style:{cursor:"pointer"},variant:t===o.questionIndex?"primary":t<o.questionIndex?"secondary":"",children:e.id},"".concat(t))}))})}),Object(p.jsx)(A.a,{sm:8,style:{paddingLeft:"0"},children:Object(p.jsx)(E.a.Content,{children:i.map((function(e,t){return Object(p.jsx)(E.a.Pane,{eventKey:"".concat(t),children:Object(p.jsxs)(q.a,{style:{height:"60vh"},className:"text-center",children:[Object(p.jsx)(q.a.Body,{children:Object(p.jsx)(P,{data:[e]})}),Object(p.jsx)(q.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(p.jsx)(x.a,{id:n,disabled:!0,style:{margin:"0 2%"},variant:e.answerIndex===n?"success":"primary",children:Object(p.jsx)(B.a,{tex:"y = ".concat(t),display:!1})},n)}))})]})},"".concat(t))}))})})]})})})})]})})]})})]})},D=function(e){var t=e.chartsData,n=e.playersList,a=e.endGame,c=e.playerAnswers,s=n.sort((function(e,t){return e.name>t.name?1:-1})),r=s.length>=5?s.slice(0,5):s;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{onClick:a,id:"cleargame",variant:"secondary",size:"lg",block:!0,children:"End Game"}),Object(p.jsxs)(y.a,{fluid:!0,children:[Object(p.jsx)("br",{}),Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{xs:8,children:Object(p.jsx)(E.a.Container,{id:"list-group-tabs-example",defaultActiveKey:t[0].id,children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{sm:4,children:Object(p.jsx)(T.a,{children:t.map((function(e,t){return Object(p.jsxs)(T.a.Item,{href:e.id,style:{cursor:"pointer"},children:["Question ",t,": ",e.id]},e.id)}))})}),Object(p.jsx)(A.a,{sm:8,children:Object(p.jsx)(E.a.Content,{children:t.map((function(e,t){return Object(p.jsx)(E.a.Pane,{eventKey:e.id,children:Object(p.jsxs)(q.a,{style:{height:"80vh"},className:"text-center",children:[Object(p.jsx)(q.a.Body,{children:Object(p.jsx)(P,{data:[e]})}),Object(p.jsx)(q.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(p.jsx)(x.a,{disabled:!0,id:t,variant:e.answerIndex===n?"success":"primary",style:{margin:"0 2%"},children:Object(p.jsx)(B.a,{tex:"y = ".concat(t),style:{pointerEvents:"none;"},display:!1})},t)}))}),Object(p.jsx)("br",{}),Object(p.jsx)(y.a,{children:e.renderChoices.map((function(t,a){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{sm:3,children:Object(p.jsx)(B.a,{tex:"y = ".concat(t),display:!1})}),Object(p.jsx)(A.a,{children:Object(p.jsx)(N.a,{label:"".concat(Object.values(c[e.id]).filter((function(e){return e===a})).length/n.length*100,"%"),variant:e.answerIndex===a?"success":"primary",now:Object.values(c[e.id]).filter((function(e){return e===a})).length/n.length*100})})]})})}))}),Object(p.jsx)("br",{})]})},e.id)}))})})]})})}),Object(p.jsxs)(A.a,{children:[Object(p.jsx)("h1",{children:"LEADERBOARD"}),Object(p.jsxs)(w.a,{striped:!0,bordered:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Top Players"}),Object(p.jsx)("th",{children:"Scores"})]})}),Object(p.jsx)("tbody",{children:r.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.score})]},e.name+""+e.score)}))})]})]})]})]})]})},L=n(607),R=function(e){var t=e.initializeGame,n=e.clearGame,s=e.playersList,r=e.uploadQuestions,i=e.noQuestions,o=Object(a.useState)(null),j=Object(l.a)(o,2),d=j[0],b=j[1];return c.a.useEffect((function(){if(null!=d){var e=new FileReader;e.readAsText(d),e.onload=function(){var t=JSON.parse(e.result);console.log(t),r(t)}}}),[d,r]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{onClick:t,id:"startgame",variant:"danger",size:"lg",block:!0,disabled:i,children:"Initialize Game"}),Object(p.jsx)(x.a,{onClick:n,id:"cleargame",variant:"secondary",size:"lg",block:!0,children:"Clear Game"}),Object(p.jsx)("br",{}),0===s.length?Object(p.jsx)(y.a,{children:Object(p.jsx)(v.a,{className:"justify-content-md-center",children:Object(p.jsx)(A.a,{sm:"auto",children:Object(p.jsx)("h1",{children:"No Players in Database"})})})}):Object(p.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Player"}),Object(p.jsx)("th",{children:"Section"})]})}),Object(p.jsx)("tbody",{children:s.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.section})]},e.name+""+e.section)}))})]}),Object(p.jsx)(L.a,{children:Object(p.jsx)(L.a.Group,{children:Object(p.jsx)(L.a.File,{type:"file",id:"fileUpload",label:"Upload Questions JSON Here",onChange:function(e){return b(e.target.files[0])}})})})]})},Q=n(11),z=function(e){e.forEach((function(e){j.collection("playersDB").doc(e.name).delete(),console.log("player '".concat(e.name,"' deleted"))}))},H=function(e){j.collection("playersDB").doc(e.name).delete(),console.log("player '".concat(e.name,"' deleted"))},W=function(e){j.collection("adminVars").doc("GameState").set(e),console.log("gameState set",e)},V=function(e){for(var t={},n=0;n<e.length;n++)j.collection("questions").doc("q"+n).set(Object(Q.a)({},e[n])),t["q"+n]={};j.collection("adminVars").doc("PlayerAnswers").set(t)},K=function(e){e.forEach((function(e){j.collection("questions").doc(e.id).delete(),console.log("question '".concat(e.id,"' deleted"))}))},Y=function(e){var t=e.pageStates,n=e.pageState,a=e.playersList,c=e.localGameState,s=e.setLocalGameState,r=e.questions,i=e.playerAnswers,l=function(){var e,n={pageState:t.OFFLINE,questionIndex:null,questionActive:!1};s(n),W(n),z(a),K(r),e={},j.collection("adminVars").doc("PlayerAnswers").set(e)};return Object(p.jsxs)(p.Fragment,{children:[n===t.OFFLINE?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(R,{initializeGame:function(){var e={pageState:t.WAITING,questionIndex:null,questionActive:!1};s(e),W(e)},clearGame:l,playersList:a,uploadQuestions:V,noQuestions:0===r.length})}):Object(p.jsx)(p.Fragment,{}),n===t.WAITING?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(C,{playersList:a,startGame:function(){var e={pageState:t.PLAYING,questionIndex:0,questionActive:!0};s(e),W(e)},quitGame:l,kickPlayer:H,noPlayers:0===a.length})}):Object(p.jsx)(p.Fragment,{}),n===t.PLAYING?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(M,{quitGame:l,prevQuestion:function(){var e=c.questionIndex-1;if(e>=0){var n={pageState:t.PLAYING,questionIndex:e,questionActive:!0};s(n),W(n)}},nextQuestion:function(){var e=c.questionIndex+1,n={};n=e<r.length?{pageState:t.PLAYING,questionIndex:e,questionActive:!0}:{pageState:t.REVIEW,questionIndex:null,questionActive:!1},s(n),W(n)},endQuestion:function(){var e={pageState:t.PLAYING,questionIndex:c.questionIndex,questionActive:!1};s(e),W(e)},questions:r,localGameState:c,playersList:a,playerAnswers:i["q".concat(c.questionIndex)]})}):Object(p.jsx)(p.Fragment,{}),n===t.REVIEW?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(D,{chartsData:r,playersList:a,endGame:l,playerAnswers:i})}):Object(p.jsx)(p.Fragment,{})]})},J=n(185),U=n.n(J),_=n(290),X=n(81),Z=n(605),$=n(289),ee=function(e){var t=e.onSubmitName,n=e.canSubmitName,a=e.showKickModal,c=e.handleCloseKick,s=e.settings,r=e.showBadSectionModal,i=e.handleShowBadSection,l=e.handleCloseBadSection;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(m.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(p.jsx)(m.a.Brand,{children:s}),Object(p.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(p.jsx)(g.a,{className:"mr-auto"}),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(g.a.Item,{className:"mr-2",children:Object(p.jsx)(u.a,{to:"/team-page",children:Object(p.jsxs)(x.a,{children:["Go to ",Object(p.jsx)("strong",{children:"Team Page"})]})})}),Object(p.jsxs)(g.a.Link,{href:"https://github.com/BlaziusMaximus/NameThatSummation",children:["Go to ",Object(p.jsx)("strong",{children:"GitHub"})]})]})]})]}),Object(p.jsxs)(X.a,{show:a,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(X.a.Header,{closeButton:!0,children:Object(p.jsx)(X.a.Title,{children:"Kicked From Game"})}),Object(p.jsx)(X.a.Body,{children:"You've been kicked from the game and removed from the database. Contact the administrator for more information."})]}),Object(p.jsxs)(X.a,{show:r,onHide:l,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(X.a.Header,{closeButton:!0,children:Object(p.jsx)(X.a.Title,{children:"Invalid Section"})}),Object(p.jsx)(X.a.Body,{children:"The section number you entered is invalid."})]}),Object(p.jsxs)(y.a,{style:{height:"60vh",paddingTop:"20vh"},children:[Object(p.jsx)(v.a,{className:"justify-content-md-center",children:Object(p.jsx)(A.a,{sm:"auto",children:Object(p.jsx)("h1",{children:"Name That Summation"})})}),Object(p.jsx)("br",{}),Object(p.jsx)(v.a,{className:"justify-content-md-center",children:Object(p.jsx)(A.a,{sm:8,children:Object(p.jsx)(L.a,{onSubmit:function(e){e.preventDefault();var n=e.target[0].value,a=parseInt(e.target[1].value);isNaN(a)?i():t(n,a)},children:Object(p.jsx)(L.a.Row,{children:Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(A.a,{style:{padding:"0"},children:Object(p.jsx)($.a,{placeholder:"Display Name","aria-label":"Display Name","aria-describedby":"display-name-form"})}),Object(p.jsx)(A.a,{style:{padding:"0"},children:Object(p.jsx)($.a,{placeholder:"Section","aria-label":"Section","aria-describedby":"section-form"})}),Object(p.jsx)(Z.a.Append,{children:Object(p.jsx)(x.a,{variant:"outline-primary",type:"submit",disabled:!n,children:"Submit"})})]})})})})})]})]})},te=function(e,t){var n=Object(h.a)(e)({x:t});return n===1/0||n===-1/0?null:n},ne=function(e){e.displayName;var t=e.chartData,n=e.questionTime,c=e.timer,s=e.endQuestion,r=e.selectAnswer,o=Object(a.useState)(!1),j=Object(l.a)(o,2),d=j[0],b=j[1],h=function(){b(!1),m===t.answerIndex&&s(C)},O=Object(a.useState)(null),u=Object(l.a)(O,2),m=u[0],g=u[1],f=Object(a.useState)(new Array(t.renderChoices.length).fill(0)),y=Object(l.a)(f,2),v=y[0],S=y[1],I=Object(a.useState)(null),w=Object(l.a)(I,2),C=w[0],k=w[1],A=function(e){e.preventDefault();var t=parseInt(e.currentTarget.id),a=v;a[parseInt(t)]=1,S(a),r(t,n-c),g(t),k(n-c),b(!0)},N=Object(Q.a)({},t);N.data=N.data.slice(0,1);var F=Object(a.useState)(N),E=Object(l.a)(F,2),T=E[0],G=E[1];return Object(a.useEffect)((function(){N=Object(Q.a)({},t);var e=parseFloat(n-c)/parseFloat(n),a=t.data.length,s=Math.floor(e*(a-1))+1;N.data=N.data.slice(0,Math.min(a,s)),console.log(N.data),G(N)}),[c,n,t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(q.a,{style:{height:"90vh"},className:"text-center",children:[Object(p.jsxs)(q.a.Header,{as:"h5",children:["Time Remaining: ",c]}),Object(p.jsx)(q.a.Body,{children:Object(p.jsx)(P,{data:[T]})}),Object(p.jsx)(q.a.Footer,{children:t.renderChoices.map((function(e,n){return Object(p.jsx)(x.a,{id:n,onClickCapture:A,variant:1===v[n]?n===t.answerIndex?"success":"danger":"primary",disabled:1===v[n],style:{margin:"0 2%"},children:Object(p.jsx)(B.a,{tex:"y = ".concat(e),style:{pointerEvents:"none;"},display:!1})},n)}))})]}),Object(p.jsxs)(X.a,{show:d,onHide:h,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(X.a.Header,{closeButton:!0,children:Object(p.jsx)(X.a.Title,{children:m===t.answerIndex?"Correct!":"Not Quite..."})}),Object(p.jsx)(X.a.Body,{children:m===t.answerIndex?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{children:["Good work! ",Object(p.jsx)(B.a,{tex:"y = ".concat(t.renderChoices[m]),display:!1})," was the correct equation."]}),Object(p.jsx)(q.a,{style:{height:"40vh"},className:"text-center",children:Object(p.jsx)(P,{data:[t]})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{children:["Not quite... ",Object(p.jsx)(B.a,{tex:"y = ".concat(t.renderChoices[m]),display:!1})," isn't correct."]}),Object(p.jsx)(q.a,{style:{height:"40vh"},className:"text-center",children:Object(p.jsx)(P,{data:null==m?[T]:[T,{id:"wrongData",data:Object(i.a)(Array(Math.floor((t.xEnd-t.xStart)/parseFloat(t.xInc))+1).keys()).map((function(e){return{x:String(e),y:te(t.evalChoices[m],e)}})).slice(0,T.data.length)}]})})]})}),Object(p.jsx)(X.a.Footer,{children:Object(p.jsx)(x.a,{variant:"secondary",onClick:h,children:"Close"})})]})]})},ae=n(292),ce=n(606),se=function(e){return Object(ae.a)(e),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(y.a,{style:{height:"80vh",paddingTop:"40vh"},children:Object(p.jsxs)(v.a,{style:{justifyContent:"center"},children:[Object(p.jsx)(A.a,{xs:"auto",style:{marginTop:"auto",marginBottom:"auto"},children:Object(p.jsx)("h1",{children:"WAITING"})}),Object(p.jsx)(A.a,{xs:"auto",style:{marginTop:"auto",marginBottom:"auto"},children:Object(p.jsx)(ce.a,{animation:"border"})})]})})})},re=function(e){var t=e.player,n=e.chartData,a=e.showWrongChart;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{children:"Answer Selections:"}),Object(p.jsxs)(T.a,{horizontal:!0,children:[void 0!==t.wrongAnswers[n.id]?t.wrongAnswers[n.id].map((function(e){return Object(p.jsx)(T.a.Item,{variant:"danger",action:!0,onClickCapture:function(){return a(e)},style:{width:"auto"},children:Object(p.jsx)(B.a,{tex:"y = ".concat(n.renderChoices[e]),display:!1})},e+"wrong")})):Object(p.jsx)(p.Fragment,{}),t.answers[n.id]===n.answerIndex?Object(p.jsx)(T.a.Item,{variant:"success",children:Object(p.jsx)(B.a,{tex:"y = ".concat(n.renderChoices[n.answerIndex]),display:!1})},n.answerIndex+"right"):Object(p.jsx)(p.Fragment,{}),void 0===t.wrongAnswers[n.id]&&t.answers[n.id]!==n.answerIndex?Object(p.jsx)(T.a.Item,{variant:"warning",children:"NONE"},n.id+"none"):Object(p.jsx)(p.Fragment,{})]})]})},ie=function(e){var t=e.player,n=e.chartData,c=e.topPlayers,s=void 0===c.find((function(e){return e.id===t.id}))?t:null,r=Object(a.useState)(null),o=Object(l.a)(r,2),j=o[0],d=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.a,{fluid:!0,children:[Object(p.jsx)("br",{}),Object(p.jsxs)(v.a,{children:[Object(p.jsxs)(A.a,{xs:7,children:[Object(p.jsxs)(q.a,{style:{height:"70vh"},className:"text-center",children:[Object(p.jsxs)(q.a.Header,{as:"h5",children:["Time Spent on Question: ",t.times[n.id],"s"]}),Object(p.jsx)(q.a.Body,{children:null===j?Object(p.jsx)(P,{data:[n]}):Object(p.jsx)(P,{data:[n,{id:"wrongData",data:Object(i.a)(Array(Math.floor((n.xEnd-n.xStart)/parseFloat(n.xInc))+1).keys()).map((function(e){return{x:String(e),y:te(n.evalChoices[j],e)}}))}]})}),Object(p.jsx)(q.a.Footer,{children:n.renderChoices.map((function(e,t){return Object(p.jsx)(x.a,{id:t,disabled:!0,variant:t===n.answerIndex?"success":"primary",style:{margin:"0 2%"},children:Object(p.jsx)(B.a,{tex:"y = ".concat(e),display:!1})},t)}))})]}),Object(p.jsx)(re,{player:t,chartData:n,showWrongChart:function(e){d(j===e?null:e)}})]}),Object(p.jsxs)(A.a,{children:[Object(p.jsx)("h1",{children:"LEADERBOARD"}),Object(p.jsxs)(w.a,{striped:!0,bordered:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Top Players"}),Object(p.jsx)("th",{children:"Scores"})]})}),Object(p.jsxs)("tbody",{children:[c.map((function(e){return Object(p.jsxs)("tr",{style:e.id===t.id?{backgroundColor:"lightgreen"}:{},children:[e.id===t.id?Object(p.jsx)("td",{children:Object(p.jsx)("b",{children:e.name})}):Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.score})]},e.name+""+e.score)})),null==s?Object(p.jsx)(p.Fragment,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:2,style:{textAlign:"center"},children:"..."})},"ellipsis"),Object(p.jsxs)("tr",{style:{backgroundColor:"lightgreen"},children:[Object(p.jsx)("td",{children:Object(p.jsx)("b",{children:s.name})}),Object(p.jsx)("td",{children:s.score})]},"localPlayer")]})]})]})]})]})]})})},le=function(e){var t=e.player,n=e.chartsData,c=e.topPlayers,s=void 0===c.find((function(e){return e.id===t.id}))?t:null,r=Object(a.useState)(null),o=Object(l.a)(r,2),j=o[0],d=o[1],b=function(e){d(j===e?null:e)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.a,{fluid:!0,children:[Object(p.jsx)("br",{}),Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{xs:8,children:Object(p.jsx)(E.a.Container,{id:"list-group-tabs-example",defaultActiveKey:n[0].id,children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)(A.a,{sm:3,children:Object(p.jsx)(T.a,{children:n.map((function(e,t){return Object(p.jsxs)(T.a.Item,{href:e.id,style:{cursor:"pointer"},children:["Q",t+1,": ",e.id]},e.id)}))})}),Object(p.jsx)(A.a,{sm:9,children:Object(p.jsx)(E.a.Content,{children:n.map((function(e,n){return Object(p.jsxs)(E.a.Pane,{eventKey:e.id,children:[Object(p.jsxs)(q.a,{style:{height:"65vh"},className:"text-center",children:[Object(p.jsxs)(q.a.Header,{as:"h5",children:["Time Spent on Question: ",t.times["q".concat(n)],"s"]}),Object(p.jsx)(q.a.Body,{children:null===j?Object(p.jsx)(P,{data:[e]}):Object(p.jsx)(P,{data:[e,{id:"wrongData",data:Object(i.a)(Array(Math.floor((e.xEnd-e.xStart)/parseFloat(e.xInc))+1).keys()).map((function(t){return{x:String(t),y:te(e.evalChoices[j],t)}}))}]})}),Object(p.jsx)(q.a.Footer,{children:e.renderChoices.map((function(t,n){return Object(p.jsx)(x.a,{disabled:!0,id:t,variant:e.answerIndex===n?"success":"primary",style:{margin:"0 2%"},children:Object(p.jsx)(B.a,{tex:"y = ".concat(t),display:!1})},t)}))})]}),Object(p.jsx)("br",{}),Object(p.jsx)(re,{player:t,chartData:e,showWrongChart:b})]},e.id)}))})})]})})}),Object(p.jsxs)(A.a,{children:[Object(p.jsx)("h1",{children:"LEADERBOARD"}),Object(p.jsxs)(w.a,{striped:!0,bordered:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Top Players"}),Object(p.jsx)("th",{children:"Scores"})]})}),Object(p.jsxs)("tbody",{children:[c.map((function(e){return Object(p.jsxs)("tr",{style:e.id===t.id?{backgroundColor:"lightgreen"}:{},children:[e.id===t.id?Object(p.jsx)("td",{children:Object(p.jsx)("b",{children:e.name})}):Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.score})]},e.name+""+e.score)})),null==s?Object(p.jsx)(p.Fragment,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:2,style:{textAlign:"center"},children:"..."})},"ellipsis"),Object(p.jsxs)("tr",{style:{backgroundColor:"lightgreen"},children:[Object(p.jsx)("td",{children:Object(p.jsx)("b",{children:s.name})}),Object(p.jsx)("td",{children:s.score})]},"localPlayer")]})]})]})]})]})]})})},oe=function(e){var t=e.showSettingsModal,n=e.handleShowSettings,a=e.handleCloseSettings;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{variant:"secondary",onClick:n,children:Object(p.jsx)("i",{className:"bi bi-gear"})}),Object(p.jsxs)(X.a,{show:t,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(X.a.Header,{closeButton:!0,children:Object(p.jsx)(X.a.Title,{children:"Settings"})}),Object(p.jsx)(X.a.Body,{children:Object(p.jsxs)("fieldset",{children:[Object(p.jsxs)(L.a,{children:[Object(p.jsx)(L.a.Check,{type:"checkbox",label:"Settings Option 1"}),Object(p.jsx)(L.a.Check,{type:"checkbox",label:"Settings Option 2"})]}),Object(p.jsxs)(L.a,{children:[Object(p.jsx)(L.a.Check,{type:"radio",label:"Settings Option 3"}),Object(p.jsx)(L.a.Check,{type:"radio",label:"Settings Option 4"})]})]})}),Object(p.jsx)(X.a.Footer,{children:Object(p.jsx)(x.a,{variant:"secondary",onClick:a,children:"Close"})})]})]})},je=function(e){j.collection("playersDB").doc(e.name).set(e),console.log(e)},de=function(e){var t=e.player,n=e.goToMainMenu,c=e.settings,s=Object(a.useState)(!1),r=Object(l.a)(s,2),i=r[0],o=r[1],j=function(){return o(!1)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(m.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(p.jsx)(m.a.Brand,{style:{paddingRight:"2vw"},children:c}),Object(p.jsxs)(m.a.Brand,{style:{paddingRight:"2vw"},children:[Object(p.jsx)("strong",{children:"Name"}),": ",t.name]}),Object(p.jsxs)(m.a.Brand,{children:[Object(p.jsx)("strong",{children:"Score"}),": ",t.score]}),Object(p.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsxs)(m.a.Collapse,{id:"responsive-navbar-nav",children:[Object(p.jsx)(g.a,{className:"mr-auto"}),Object(p.jsx)(g.a,{children:Object(p.jsx)(g.a.Item,{className:"mr-2",children:Object(p.jsxs)(x.a,{onClick:function(){return o(!0)},children:["Go to ",Object(p.jsx)("strong",{children:"Main Menu"})]})})})]})]}),Object(p.jsxs)(X.a,{show:i,onHide:j,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(X.a.Header,{closeButton:!0,children:Object(p.jsx)(X.a.Title,{children:"Main Menu"})}),Object(p.jsx)(X.a.Body,{children:"By going to the Main Menu screen, you'll be leaving the game."}),Object(p.jsxs)(X.a.Footer,{children:[Object(p.jsx)(x.a,{variant:"secondary",onClick:function(){j(),n()},children:"Confirm"}),Object(p.jsx)(x.a,{variant:"secondary",onClick:j,children:"Cancel"})]})]})]})},be=function(e){var t=e.questions,n=e.chartData,s=e.players,r=e.adminQuestionIndex,i=e.questionActive,o=e.waitingRoomIsOpen,d=e.playerAnswers,b=e.kickPlayer,h=e.pointEval,x="MAIN_MENU",O="WAITING_ROOM",u="QUESTION",m="LEADERBOARD",g="REVIEW",f=Object(a.useState)(x),y=Object(l.a)(f,2),v=y[0],S=y[1],I=Object(a.useState)(n.questionTime),w=Object(l.a)(I,2),C=w[0],k=w[1],A=Object(a.useState)(null),q=Object(l.a)(A,2),N=q[0],F=q[1],E=Object(a.useState)({id:null,name:null,score:null,section:null,answers:{},wrongAnswers:{},times:{}}),T=Object(l.a)(E,2),G=T[0],P=T[1],B=Object(a.useState)(!1),M=Object(l.a)(B,2),D=M[0],L=M[1],R=Object(a.useState)(!1),z=Object(l.a)(R,2),H=z[0],W=z[1],V=function(){S(x)},K=function(e,t){S(O);var n=Object(Q.a)(Object(Q.a)({},G),{},{id:Math.floor(Math.random()*Date.now()),name:e,section:t,score:0});P(Object(Q.a)({},n)),je(Object(Q.a)({},n))},Y=c.a.useCallback((function(){S(u),F(r),k(t[r].questionTime)}),[r,u]),J=c.a.useCallback((function(){S(m)}),[m]),X=c.a.useCallback((function(){S(g)}),[g]);c.a.useEffect((function(){null!=r&&(v===O||r!==N&&null!==N)&&Y(),null!==r||v!==u&&v!==m||X()}),[r,N,v,O,u,m,Y,X]);var Z=function(){var e=Object(_.a)(U.a.mark((function e(t,a){var c,s,r,i,l,o,b,h;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=parseFloat(n.maxScore)*parseFloat(n.questionTime-a)/parseFloat(n.questionTime),(s=Object(Q.a)({},G.answers))[n.id]=t,r=!1,void 0===(i=G.wrongAnswers)[n.id]&&(i[n.id]=[],r=!0),(l=t===n.answerIndex)||i[n.id].push(t),(o=Object(Q.a)({},G.times))[n.id]=a,b=Object(Q.a)(Object(Q.a)({},G),{},{answers:s,wrongAnswers:i,times:o,score:G.score+(r&&l?Math.floor(c):0)}),console.log(G.score,r&&l?Math.floor(c):0),P(Object(Q.a)({},b)),je(Object(Q.a)({},b)),(h=d)[n.id][G.id]=t,x=Object(Q.a)({},h),j.collection("adminVars").doc("PlayerAnswers").set(x);case 17:case"end":return e.stop()}var x}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){b(G),P({id:null,name:null,score:null,section:null,answers:{},wrongAnswers:{},times:{}})},te=Object(a.useState)([]),ae=Object(l.a)(te,2),ce=ae[0],re=ae[1];c.a.useEffect((function(){re(s.filter((function(e){return Number.isInteger(e.score)})).sort((function(e,t){return e.score<t.score?1:-1})).slice(0,5)),v!==x&&void 0===s.find((function(e){return e.id===G.id}))&&(S(x),L(!0),null!=G.name&&$())}),[s,x]),c.a.useEffect((function(){var e=setInterval((function(){if(v===u&&G.answers[n.id]!==n.answerIndex)if(C>0){var e=Object(Q.a)({},G.times);e[n.id]=n.questionTime-(C-1);var t=Object(Q.a)(Object(Q.a)({},G),{},{times:e});P(Object(Q.a)({},t)),je(Object(Q.a)({},t)),k(C-1)}else{var a=Object(Q.a)({},G.answers);a[n.id]=null;var c=Object(Q.a)({},G.times);c[n.id]=n.questionTime;var s=Object(Q.a)(Object(Q.a)({},G),{},{answers:a,times:c});P(Object(Q.a)({},s)),je(Object(Q.a)({},s)),J()}}),1e3);return function(){return clearInterval(e)}}),[C,J,v,u,G]),c.a.useEffect((function(){v===u&&!1===i&&J()}),[i]);var be,he=Object(a.useState)(!1),xe=Object(l.a)(he,2),Oe=xe[0],ue=xe[1],me=Object(p.jsx)(oe,{showSettingsModal:Oe,handleShowSettings:function(){return ue(!0)},handleCloseSettings:function(){return ue(!1)}}),ge=(null==G.name||G.name,Object(p.jsx)(de,{player:G,goToMainMenu:function(){$(),V()},settings:me})),pe=!0;switch(v){case x:be=Object(p.jsx)(ee,{onSubmitName:function(e,t){P(Object(Q.a)(Object(Q.a)({},G),{},{name:e,section:t})),K(e,t)},canSubmitName:o,showKickModal:D,handleCloseKick:function(){return L(!1)},settings:me,showBadSectionModal:H,handleCloseBadSection:function(){return W(!1)},handleShowBadSection:function(){return W(!0)}}),pe=!1;break;case O:be=Object(p.jsx)(se,{displayName:G.name,playersList:s});break;case u:be=Object(p.jsx)(ne,{displayName:G.name,chartData:n,questionTime:n.questionTime,timer:C,endQuestion:J,selectAnswer:Z,pointEval:h});break;case m:be=Object(p.jsx)(ie,{player:G,chartData:n,topPlayers:ce,pointEval:h});break;case g:be=Object(p.jsx)(le,{player:G,chartsData:t,topPlayers:ce,pointEval:h});break;default:be=Object(p.jsx)(p.Fragment,{})}return Object(p.jsxs)(p.Fragment,{children:[pe?ge:Object(p.jsx)(p.Fragment,{}),be]})};n(596);var he=function(){var e={OFFLINE:"OFFLINE",WAITING:"WAITING",PLAYING:"PLAYING",REVIEW:"REVIEW"},t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1];c.a.useEffect((function(){j.collection("playersDB").onSnapshot((function(e){e.docs.length>0?r(e.docs.map((function(e){return e.data()}))):r([])})),console.log("fetched players from firebase")}),[]);var o=Object(a.useState)([]),h=Object(l.a)(o,2),O=h[0],m=h[1];c.a.useEffect((function(){j.collection("questions").onSnapshot((function(e){m(e.docs.map((function(e){var t=e.data(),n=t.xEnd,a=t.xStart,c=t.xInc,s=t.evalChoices,r=t.renderChoices,l=t.answerIndex,o=t.maxScore,j=t.questionTime;return{id:e.id,color:"hsl(24, 70%, 50%)",data:Object(i.a)(Array(Math.floor((n-a)/parseFloat(c))+1).keys()).map((function(e){return{x:String(e),y:te(s[l],e)}})),renderChoices:r,answerIndex:l,maxScore:null==o?300:o,evalChoices:s,xEnd:n,xStart:a,xInc:c,questionTime:j}})).sort((function(e,t){return parseInt(e.id.substring(1))>parseInt(t.id.substring(1))?1:-1})))})),console.log("fetched questions from firebase")}),[]);var g=Object(a.useState)({pageState:e.OFFLINE,questionIndex:null,questionActive:!1}),y=Object(l.a)(g,2),v=y[0],S=y[1];c.a.useEffect((function(){j.collection("adminVars").doc("GameState").onSnapshot((function(e){void 0!==e.data()&&S(e.data()),j.collection("playersDB").get().then((function(e){r(e.docs.map((function(e){return e.data()})))}))})),console.log("fetched adminVars.GameState from firebase")}),[]);var w=Object(a.useState)({}),C=Object(l.a)(w,2),k=C[0],A=C[1];return c.a.useEffect((function(){j.collection("adminVars").doc("PlayerAnswers").onSnapshot((function(e){void 0!==e.data()&&A(e.data())})),console.log("fetched adminVars.PlayerAnswers from firebase")}),[]),Object(p.jsx)(d.BrowserRouter,{basename:"/NameThatSummation",children:Object(p.jsxs)(b.g,{children:[Object(p.jsx)(b.d,{exact:!0,path:"/",children:Object(p.jsxs)("nav",{children:[Object(p.jsx)(u.a,{to:"/team-page",children:Object(p.jsx)(x.a,{children:"TEAM PAGE"})}),Object(p.jsx)(u.a,{to:"/game-page",children:Object(p.jsx)(x.a,{children:"GAME PAGE"})}),Object(p.jsx)(u.a,{to:"/admin-page",children:Object(p.jsx)(x.a,{children:"ADMIN PAGE"})}),Object(p.jsx)(x.a,{onClick:function(){var t={pageState:e.OFFLINE,questionIndex:null};S(t),W(t),z(s),K(O)},id:"cleargame",variant:"danger",size:"lg",block:!0,children:"Clear Game"})]})}),Object(p.jsxs)(b.d,{path:"/team-page",children:[Object(p.jsx)(f,{}),Object(p.jsx)("br",{}),Object(p.jsx)(I,{})]}),Object(p.jsx)(b.d,{path:"/game-page",children:Object(p.jsx)(be,{questions:O,chartData:null!=v.questionIndex?O[v.questionIndex]:{id:"",color:null,data:[],renderChoices:[],answerIndex:null,maxScore:null,questionTime:0},players:s,adminQuestionIndex:v.questionIndex,questionActive:v.questionActive,waitingRoomIsOpen:v.pageState===e.WAITING,playerAnswers:k,kickPlayer:H,pointEval:te})}),Object(p.jsx)(b.d,{path:"/admin-page",children:Object(p.jsx)(Y,{pageStates:e,pageState:v.pageState,playersList:s,localGameState:v,setLocalGameState:S,questions:O,playerAnswers:k})})]})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,609)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(he,{}),document.getElementById("root")),xe()}},[[597,1,2]]]);
//# sourceMappingURL=main.e6901f26.chunk.js.map